<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>yanxlg@blog</title>
  
  <subtitle>[object Object]</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://blog.yanxlg.cn/"/>
  <updated>2020-05-10T10:01:16.306Z</updated>
  <id>https://blog.yanxlg.cn/</id>
  
  <author>
    <name>yanxlg</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>git</title>
    <link href="https://blog.yanxlg.cn/518e617c/"/>
    <id>https://blog.yanxlg.cn/518e617c/</id>
    <published>2020-03-17T01:48:45.000Z</published>
    <updated>2020-05-10T10:01:16.306Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="密码错误，请输入正确的密码." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">本文暂不开放，需要密码才可阅读.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="ee3ec5ad384bcdcace85f4b7182cd92c843ac1cf4b239eff71f5006aff199ee7">ee7bd50d85d8f21323fb4fe72f97eaf2d7101ad2aade0725b1fef157726611e90445df1f6e26faa96e2fd7e3f7bb1cfdc9b6718b563c5130ac48ba2652bfd6f0c2efb1962946e9b8039ce663ba8ed1563b9e71fdb9c785921b55dd360d31194a06d30289b03ed0a4c65edf003c54d2ef2fc1d8ec3f6f7d00c0bded5a18ced3f9534164eafd6abc8ca25fd70720c9a3fe28d638dcb92c371357e9f8c90a89282c1a5f86b2e6f618ca7e0a5fc9e3bcdc7990272d2ff94e6dc11a31a4bba15c1a5de7119dde304649c33fb356c1bea4125326286f9a8633d2e00f5a3f9cca961c2dd8620e6feddb327dc6fa840e5c1f7856820a10c41b1a3c02c3c164d80885d23e1bf003058923a19ca6fdae4d63418119aceb5c72907c1a2ed5a972309553c401a07361d168062c982a33cf93f0619cd349a08b0d51ec470d0acb8218b57876731ddb1dbc35b613c3392bd981982844216f225ea7919ef9498214c3cdaa3c9b4cf816e308a8a87114c992ca8ebb0b8f5df977d83d3835ac71ece5491ef881db5f9d9e564b6420cd26979ef4202f0d9651b6242af9f5d8d75d099efc865b67674f72f0916b1b6176c61179332c759593cf33302f98f3197d9742e593404a386bd6e496aab43c3ca41fa17f11beb0b17bda59233ae49f027b82658ed75ac58bff79a81c5c394ba3779d1d53a517ed654ce73b1e256eb68bf892d6381533f23b2bf0896db67dc8d1f8cb0088a5176e4638e85ce30fe19be91af436135929f66870c13eb966181951b63b7669515af1a267d3905995a575731bc2c4c660c9e2aa4eaa8814842fa3b2284c13d6fbdee33b67a041b880a221c95a114effcc7bdbcd6522b442c96eea790d840946d0ce581ea2f774022550e82a73b80b30decc4cf730530ea37b42797045a068036646186ebae6aa738b8c1fdf00acfa810a93cafa5ae1279c76524f750a7080c8d9825f6bf5f2b3161cbc913932d8cc6ae182058ff5550ecb485f4d888ccae892b41d7ca3f6b9c32c74cfa21801967688ea80f504f5c502391e384e1f908a6f3a75555bb324139f1b49355ff105cc9491f3f0fe13f99b672b92ce8e2296b98306a501c70f80f736fdb4f6a3558d0442f01b20462e612fb183020848f2a9dd9dd019a6a903f68187065e916165328d8d409bf0da3b4772bc6493e868ef67cdd70a433c75256b8275f3a16950a0f32a018bf3cc6ae1203a3680e581910b24740e802442e11e94432be60f1e4faa91b38106b675925f5e3b5f42bae76135de1fbf4fd70a69b81dd5f7b53893a3d0279b495d39a22445a3d5139c1d733b47ec8b01232a64df80b10eedbd2dfb7de284992624b9ead22bfa6e03860444a861ed6f688afca97cd2f8dbe199f72c8544334f92f562fce232992793a46f14f6dee24f0418f14eb2a026f4297e8a98abfc87630a5cf7460462168d0a22d1dfc60f97313a7afdb50b804a33d481c023c06fe83836f1db10520149aac4bbd5c044035f081ba2f49b22cfd382d429e33f7bd6615d78265ff23e4a00645340f8133e229b02dae6a59d23b978953a4b5d6c9e055c81668f5a5c4526d438acc4439662c936f4dce61940a4f91144510be7d6037609682b53b29dcb6621b40196c4112d806d8dc277c0fca6636b8036c40ab836968b04b756f056b3ebdca020ebf95d7d207bf5d2787a12a0abb836</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Here&#39;s something encrypted, password is required to continue reading.
    
    </summary>
    
    
    
      <category term="git" scheme="https://blog.yanxlg.cn/tags/git/"/>
    
      <category term="tools" scheme="https://blog.yanxlg.cn/tags/tools/"/>
    
  </entry>
  
  <entry>
    <title>rn-base</title>
    <link href="https://blog.yanxlg.cn/140ab620/"/>
    <id>https://blog.yanxlg.cn/140ab620/</id>
    <published>2020-02-27T02:05:22.000Z</published>
    <updated>2020-05-10T10:00:22.618Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="密码错误，请输入正确的密码." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">本文暂不开放，需要密码才可阅读.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="868c2eba19c4f31dfc5f7000897553bae8053539cfc3721d9b0e80a71817ef00">76a7c2d69f910a96efe6d4a85086bd083b71be6382a756a0ea08c2f18f8205b2dc5f7b340d04aefbcab27741555ea0fefdf4afea40a8d8f3349545a73a10a806f501c971e515c7af4c7987e626c74cdc35fe0ab867611cb72217c33fa67622d6c7c9814ae1142e3a01778096c299f6fcafa1336cc087055a3d94c1e2166a45ab4a3c67b412a2c1037f3e982a8e1978b47652f9bf416873eee8f172524e184cc1b14b03686683673f3f96647bcd68ae30d11bbbc065de7de09bfff81684df267063df8632f8d9009ebd7afcb7629227cc33156f049fee94d10cb6afb452ad8b4e0360e0640b5116e57cceffd33566ac5ccb1f91500f278c6c0f4824331a4973f1d3bb97ea0b16e4b3347d270b8f1f877a2389d1d08241394dc343b035cb42988a8895fce24c2d359955584159cdd128ea4f3f8b5160d6d0c6e80a0507584daa05d320dbf29f1c6dda0fc73c047c52783cfca3c0bccb3d0e2d3b14badd6a49b9b21a4f1e252e7f117bd8ac461ee3cd634b38982bd644f794af05f579ac00929ccfdaf0b2cf854b9d8dc71fc5b4f659e1222b6f66acd264126b2c5ef3d121f3f01296c1746bf01ed8e94d96a4e5b9d05428df687a314ff43e05ba30b9f083b275e08dc7ea7812113eab94535a1b8e151c4383ff7e3c9d46dbaf25f362ef87d0f6d006231847477246034b39cb58e23cb85bd5f95174b106785d9056281f2c0af872fddee0b4d17554813931781b8ba98d33c25f608b5ab8208d1da8e1a95d18003d85669b424e51f4e5cf4f76a3005515be853679d2a9e3e2828c0d2f79a07bff5f861bec37a0331cc237cf3b0c302c0fccb2b433f9dd42f4d27817d55c4886eac0e9712675c577056a3605106f9adf5e76b33ec7fba71b661b0f81f16f6cd455b88e79644fd790f1fd92d0054f77ccf26fff3139e81aa4329e1b7a8a5959155aced8dbf50d746f82a07d8012ca4f751382270277ebf153aa73ced6e4442b905265a843ef87c57baf43f590a20cdf5fb7fe77f0da85cbb629b2897fb8deee7d8c4013ddbb74217c6530f74d8395a159a032dfc26cb059abf9bc098297eb0ceeae1de80d4fc860e58062d596a0e1dc96ced0d1a41fe4d2718904341746723916a37ab8decb4d0625dfe91d8e9acbfe5e2bcc4ab78a9d881b347c95e29c9906a733975a2bc65762aec50a1a6b109d9b54c302ef0aef54636a422340fea726cc0f0feaa32169e28a445843d0aa11b7a9a89d6fd894b49ccaba2f3c344dfd001f275813a96a332268dcb02dda5a477b7806784209399ca6814c017f344323404b1f80c6a3ea9a1bc0d26267ef2e6d83979423ce8398f9717d85fa7a91c97e171f43ac08b4b9b898afa5e29fdadde3e45ecf8ab7ef2ac24c81969c073063d4b078c2791e0bd24458f5ea40b3b3fe68dbc1c9467c6a8b0a330e22e485ab75b40ce4020f9bf9feb6af4e163d9e4d237b033ef257131e1476703b0a65dfd6684958bbe296d72779e22ad8fbefad56e967b8dfcd4d667cb425ee6eee211af6ea82b29ccd7b64343453bdb71398cad31960ca61be315772fbccb69d6690f20b6572af817730af60e12006ff891cc4756f3ca03ab871524508955f26218bb7ab1be9b30b1862f710d90475095d7aab125e6b9ace304af6166999ced15a83e2be8be13240f97b0e606d56b48a5c441dd64414156b93d4f4601f8cf49bb3e10388f1f5c3ea041cdef9fc2d64d20e986fab89220ceabf3ccb6b1c7f03f9512b887c88266e325f28db3259ad9207be7a65ad2e77bea0c7bd2c5f42f96cab18090977b25be1ff7576bd5b6a0166334200ae1a65eecc9a400f3933952a8af2ea96512a59223b35359422f1f92730d78086e1cfc794ee2d97e2c6aac94c65f6661c78670fb1d815b6e1d8da18001c5399e015655e25486477d46bee81f8b957a6d51ce5964baa749edd3cff7288f7a134d01b46084ea87fe9c4447044bf8444ad92b0aff0e53780b81c0a9ae7949728bb66c446f3cfb767af62cb871f978bd6ff03437bef0e54156ccaf126b2de5a4717be70e310e4c15dbe574c103e1f1db25c95ee7d7fd80b5c80d9a20b8f1aa51089595d1983cc01ce8324542c0b35a072e6194c12ae68c0082ee441a465a997a12769d2decbc3149465d176ecd86701ade76b30b7ed3bfa3e99cb8eaf948ddc658bae9fbfbb235c15b102ff396fcb881ee8d8941039ecdeb165b0d06609c6850d3ea93f1eebec6d756c843ac83a15d3df553ad55d170330f454ba0318aa59fd0fb18400173d0fd3d14ba0a3e4567220b04da727ba464cab381f4ca01d50cea37924bbc821b846a20d31e328db5f1d2f92c6d180b81307a600c4a4dc0223973c1fb03c7f0f646fc96701c462c78a6098d361258e55274227c8eef8fd7b4c131dd40d459a0bcd9e427bfb1df0d9ef7dd54a7d9fc6892b1134ec84b7ed5c147f26a5029a8ca37a4e77bcb1372c6cfc7bfd39578ab7584dd6cedb76061333329b3fe727b0967f889fa3b9c3108fb3e9bd9b2365aa85eaf93681afdb4a137eb8ef47e350969a42df52aad90b4acd0ade20e2fe4d7cc119bb558a2a096c1db8e01dae59fc4de4b5229d2d6e53574e845676cd9d4ddce71dbe65956a4c093674d2525f4b1954480e344a2d32d56ef502cd59f77369b65f1b955dd1f4c9fcdd9a46edfa4af4967c4290b474ec3f1a48ea87f76d9c33000ed573ec2e14277c9e129377ef7d665d522d6606c5dfe58c719ba8428996f9b0c7625130705a5515c2865d1e010dbbcd77d76cf8b7f2d64f9021c2afea13c9aa0248705be9c94e05e397c248d3e6c2b9b721a6e5949026bac80c339139d93c633935b8d333e2ab1337b7f69db6f27b8fac63b2b699afacf2ccb7a265114a724b6d547e01c61d0664c626c217df439f5ffdaf5d4713b49e765347d76ac017b1c5e2c38a630049034704d3f14c0b92bb35cbf2bfb3ed57ed506c73c60af2bbb492d88c521905b78aaa11426be1b3ac9749fb3631aca81a2bf3b3b0082a46f78f7dc2becf79c9dd9cbef426315b2588376dc24dfe9b12c1503bae2323f5f77ed19bc96e36f6744f1bab6979bd6169326d2526860e5bec42a66a89d8ca86ea830f258f999f0593cdb4ce8ec9e8776a2de36c7e5b6e060c339c53be15c7472b0a7e927bbb696c9ccc94894f6fd247a301eda55137044935fa0af1d638801cf3292a1d74c7d34c578fa9ac7fb591b1d92d527b589981bbe040e1baecb3037366f7283aa367a190b81c3389cb1ce6b4ea4bf14d8fd0c5677a329a335e3711803f791213eadfd283d1ccd9e6f735f33ca077c921ffd5e09cc2c3d4443fdcc62f78bbeb07ceb83bce6eeb49b85c0d31d773f404515b53bf3d74bb56d2b494f2d6b34a3e7b650fd4d00ddd71e65283c77bc4e53b40a9ce5af77266bd3a068a266af473d2ebf7863ea096ed1fb2d4bfe6f5c3646d4f8dc48c68a6cb78a42ef33dde95f561ef9cfdb9b30a92dc537f11097542e9f952225ade014015695102cff91d9f6e1eab217f63e6ecc68119b14aa9ed70c331dea3cb956442e7e5bb127fc480bf1d3d45eb0c7d48ef628795bd39975b48563a272a0f70c3e1ca51b6626f2010a54be7978b68aa3ee6b28482b5423d5d4b54dc06d22754a173d2450070e83bacac584212ce4e59535bef9275b9815fa7832f3e5164ef225b629227871a12a32c16d373e9fca63f57376b2db0b236dad287f3398ec2359d8dfef25f9c4f3095898c9894d8c75a11ff1cfab4fb2275a3101f158861d74daba5e155c2aedde3a23f8c2bcbcff3f6cc4a6a2a889bed2ee37fc29bccee30d4e65d24a0665376465e5fe6a9e8e6f5df4a1f7ad4d7fea14d5bf1ad335316742523bb23db1c79e0a4bc88ae41aa5b0162106f549439dc5b9323d8621b302078ffaebc56aa77fb41ee29c85bef3b314cc091ed70ad5d7e9fb7a4a222fe60c47266439cec07881d3672efc6f66ae8f841edb660371da384496b4beefae499e580f8a7a7e4ffe1f2b851fcfd0e8ecfb95a14237ab8d5c24bcb823957892623f956c88ae9913fc72f8c939c72ad2bdde9055420587fed437c5c254a8b19c7233a033f6085dafe6bf44f8435b6a00e0710d12cf1ecedcfecf553f58c4e828e77ec1a16ee1c88813ab74fa7815565b6bf539fbc0914d06e0d4644581abf6dbe36a43a40f67d1fbe9afaf8075b0d9e53c7d76bc39f8d805c02b71aafeacd30af8b7347eee9590911ba50d3da0b60fee606f1a558f5a15a8994337ae36beeb423262c47ebc61abacde81ac96a791f1d7fae7b03f1e1b91d6b6ae1619477c3e67923f384a5fe77fc57df9a4aa88d336fa5fac602ff5126c67381e52446141646dafa0e072aa4f9f9f7122bde0499482069b3538c0356fca0ecc8e4331cc15cbfe0567ef34eb5a6ffe2d81e2041b1100b0ea1afc8d32bcd913d0a148361b6ae45ec3e4e5fae3ab02376651f4e88c3a768a71bef80ff329223565d3964f14f2cee8a95d9c51fbf11e1c47265f59adf4b28e804027c004ae35975b117ee40cd1fa5f2a8283146ff03da5817613deefbccc586418cc69bc4f80a5366d68466421064ad489fe3bccaa77ad4ad02fdaf3ce93bb5e87c5b6b35f6fa322aa195b7b01c55d6bcd0df36fb076492aebbfbccf1297daf77369660be2d1668f4525bf54e35359c56827b06f7f1000ecc95617d9aac735bc848e25a2f8a385e24a6241e8dcf4f43e241bba7c187e8a1e62c65fc29207d318010e56f4693c25026105d56e156a877ca8a2ae611e476c569807343cf222eccb698f6c545b02ac51f32e3c3692f2eeec576b842cea8c2348bfa741def0b92edccdcd72a74d65d3827cc5c80a3fdcd108129bccb865e79ebb827555806c55173ac0cb97f956a4b881ed331e2d6682d9e43c80fc7ed5228962accff815940ca34e8527381dd84852f05ca3c51c1be9ba6fdf8dbef174a0e57fb92983209bc902f7189e476f7cb20ad88c1c7db9942ecc258a66a98c2266d54f97e855277f99b7dd2d033cc8306f3ad9614539287e5b7445d4fce9471ff8b5c2d6009e4d191bacecc2ffb5bcdb95b9b2e87029997bff858e64a26fe2459c9e0dbd184a1bc6502edea0bee2d0c2873842a45fc6aafad6db3d4fcefbdbe96e6de5b7c596961a8fe04d9fc8e395730f9f3eb44c2356fcc6c6efce76e4292008f5b6fa42e855f0abb616fbd77e8f9215fb2882d4fbca169d3c9c697cad5bfd2939ff1bb5ec239c54b1ed7eabbb29b964011e9e2fc230eb03c117c7987f4bc2c202def5c7fbf3bbb239c64e823dc5c1feceb54f194992df8e02c19f3f5959aee2121d500dc3c347860f683e53b857c823a1ab32678d6de74488872c704b26665effb972d935276bc026adaaa766d5e7ab9bfe6eb0c70312ee147d1a18e605eed3e1451bc116f670366d1afc4a55d66031539f70ce47b4c6044650869708017cdbc0b823ce189ef551f3b3ec83773ca5b021cdaf9248ca57222ca45e3e585f9c8c93db84aa3b5b830e510cf734824a92c4f3beb7040ef0d5c7ae08ecde12bde6991ae6db4f99991bcfdf86f1585263d3dbf449334d16cd6858bf55eff48fe6f8ebf108b173f668cc4c088abaab379eb2c32d019f120054bdc737b354531ab94b6675149e2c8bc3dd30ea9b669000eff83b9ed6bc4b5afecaaa9860739508d81c94941af8eae0b615323902e14b29bf17788082ca5e3e7facfe210462d5ee10f0a539b877d899d958dbee05858b3994417e806438f94d6839d8c89e831e2793a251a141472b74916d328223bccc60f4836544cf70f58f6336a38600663dfb98d74f349bc69a6e225ea2412fbeb042d7b867c289343816673deb6565142cb4df4f7fc54a63413b32d000b08bfde5b26fa51c1857293b4bc94247c6056aa0c09a8aab3b4ea1cf867d6429a0a7909a08c5e7e9d6284a385c468372438b76839106a45a617d3db5791038840da4b256a241389a8b1ed5277eca3afc4c4b9254e9507990e7b292bd7cac41d8364cbded3eaff7316857a3c4a4eb4b79de63eb2c3f37e9d5c10a395087ef7118d247550e2f0fd33cb76591de611f5049567812acf0388de1e612100707ab6b44e5c22e0b5d658fa6fdb3ef181b8623e80560ae6030c6ebc219e9dbc753a5114d0ae57ea8e37c6c9481fd446889d9fdd6678e550189b4688890ca9aa13c85c850ccec1958709144b9f6bf1a0f0730860f8604ea8bcee04774df1f6a0f3b19b7dcea240b5a1258831a432f3d2ae76dd7fccfd854369ca0a4ad578661443a074e9c9833a876512475cc15795f583ea3d4b3eb1ea1e4f5b17d5bf399985a033fedd5aeba4ab7ac459d7c0db236038978032a05aa4643500f59e139c929d685526aae44f74451e1926d023e2acfb6dc6fae667ed06899218efacf88442c7d5fed79260eecb6a0f82cfe2121017826f7d4222c89a111d16587302d63543e291051e2957e1b8c320c61c83199a1e570e45d13a90de4b62c02bc9afe51d23e52eaf3d121d8e5d05c4bb8a63683371cca85bb9b98008df5f851083b4785cb83e7e9de20a59e006c2f4e00642a23cb7692893f3a86a1d5129b9c9610f87a48462d201d7b8605e364b2ed5f6a5b309959f118a6e3d3e8f9483bd29459c4f72e1cb8bcaea6d6edf877b01765fd351428a7397b9ab85e68420605c86f89a92255e2c412650ffe57ac99ef016cd652c5ee33f5821c6032c4c9b91a6cc80d06f4162096d881c8e4a18364e29ec7982a33a5484cedf631843c50a4d08c1fcfdca8b8bedc396aba88b0350cf3cd97f140af1fc7dd9ac30342db13e24144e89c6e15db7db4b51e0d2b0e1bf5ba67a9385b0ce4aa6eb772c4886d961ab9be4699845aec583acbbc643975a1479f15307d6ba77241598987f6e44aaa6c7467e8c9559112f5ea08bdd1cfff474e1f95f1fef6cba9a05d5100a65296e853890487cb7250ddce11ff61a12ef7f51663c89cd14bcf2ef9fd207620863cb8df50b593cbc148eb2799c3576ed100193c9b2663f01879c3a1d1408198f7c93aac38cf61e2fb75ad50784524659165979336263343098b70b92c288a10403b3efd9c90515b68e0407d9a3e259af2a3cbb54fd055ac519e40d71cf6aa6cc278354c8c3d9eaa146d2f18b938619fe5ff48bdef0e591a766d25f04e87c9b1ebe6cdf42209280028cdb1cb03d</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Here&#39;s something encrypted, password is required to continue reading.
    
    </summary>
    
    
      <category term="随笔" scheme="https://blog.yanxlg.cn/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="随笔" scheme="https://blog.yanxlg.cn/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>node/index</title>
    <link href="https://blog.yanxlg.cn/92faf83c/"/>
    <id>https://blog.yanxlg.cn/92faf83c/</id>
    <published>2020-02-27T01:44:45.746Z</published>
    <updated>2020-05-10T09:59:42.086Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="密码错误，请输入正确的密码." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">本文暂不开放，需要密码才可阅读.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="582941aa11d2987c8a96d8e693696a97efcbdd4494e964c414679634346d5cc0">e3e818a45afda05df64f43f68f0749daa65269060cfdf9156ca5f5483d166ac49033f0ca49f516b653f0feab260546ec059987f4819909364ea283ae6a8813bc8cda808cb351737e9309fa9a01d46a4e1cd4a4b57c45e03a1e443fadea2ff3b7dc4e3995563d6d501f4b353515b9bb86926ab864e3045477bc9d33a1d7b133cc60c0b4a04de29dbebfa1484fab13df4cc94dca4c07a00f51ac918f88f2c4637bbc969b59fe558d59c4ba1a7bab3de8cf1b18defd2cb977ef96e7c37d1dd2039286ce620638b02ced769a78b3e61601f2166f5473c16d5fd0eeb84d014f421052f2ab5b85664a2b503318dbe3d1b7111442617cfca5b65ae1b4b26bd8a4301ceec2c664bcf83caeab617ae1078915d479fe400d8b1f9d7bfb2cb5750818464b5c</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Here&#39;s something encrypted, password is required to continue reading.
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Active IDEAL</title>
    <link href="https://blog.yanxlg.cn/396e831/"/>
    <id>https://blog.yanxlg.cn/396e831/</id>
    <published>2020-01-13T01:57:44.000Z</published>
    <updated>2020-05-10T10:01:12.975Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="密码错误，请输入正确的密码." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">本文暂不开放，需要密码才可阅读.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="060bd65a97ab8c2486b5af2e2b61abd88a7b1850e07e853eba71006864842796">76a7c2d69f910a96efe6d4a85086bd083b71be6382a756a0ea08c2f18f8205b2dc5f7b340d04aefbcab27741555ea0fefdf4afea40a8d8f3349545a73a10a806f501c971e515c7af4c7987e626c74cdce66f30f0ba5073e74bb753c6540f68ed2d14bd74b6c6d0d88af716e5a70147dd0a270c6f896274b975030745a890a18ee0fbc2aedc0e9bbbc982254a37dd3a036e2bf4cbb160632595ee79fd6ab4cf91e4fca4e0a00ae2874d806ac8dd29791db5ce3045749818b7c2292627fce3d87d130be81948fb8901975016bc14e48c50d3885e4d6f39227311ae0d67982f866b3bdd2997ed9a5a4395a5db87b28f2f71b2c39a8cd3befd16f695a773bc8f8f5f0a1c32c74b80e0fd6bd6bd233a492c3e5e2b12d135450aff722899bc47b682d1f93c0a932837d7bf64765a9e2aa0f70ac647fee9494c4595e8fd6012d4183e48af225db219ff2a8977a81a6a1c2cd5ac282aadd2f4b5aab969a70251343367eb2d31d30733eea438d9a4758876012f0c417acf18a6d1a794bef0810c636a5983b0df3cb65ab02bf07ce5f856c35fdffe260d91ad3284d06a112b92ad17352e42b1864f8a2924f0eae05807b2439b2dd419825a60eb03d732d5a94c0a9e583bc4bdf288dbee3c9d880895d7638859f378e3a61fe8ff83012c7f1978f555f63da9c25515a632ac09a656f3afeaac1cd6046bce7789ff0d5082576cd8e39b63e7175013c7fd3b87a5826e9a84b6e18b7212c43d9a33a40302a3bd339fbb94c2d2ec3cf96df087e149d02e416ef32cbc9516d551ee7e234ded198feeb0637c5253782577df01f4f0ea72710842ac058f84ed4ed3bcd1dc1c47e023f79d807edc68f8ebfa3970f6c9c56d5657d9a9a5a670bbad5deab6d562549122b339b8caef36467864e852ab7d4567638a6e53e806bb98ed3c91d08866e0919d0aaf81d01b41b2cbb6e05320e44838ad0caf1a71d0ab8c0a6c19755bf23ad106ade3b6149b3fd3b1c0dc273ff32a7ea536ac07f952a952681e0c9c89f39e0fba04972fffd8445b3e3d906713cdcf285eadf0a0229125264562e78fabfe085a02f40269e44bcdda25224c7c13388186db7db54ead92c0cfe5f5397522dcd6e3b167cd473289d64c45bd9e81457ebca78af602903019a653f6eef34def8745bfd7a1055b31c810bdff5bb124f63278fbb9295533251ad71725864b2e323e25705a6954c5633b2b47a61ed3254f2acc19f09c491d0bee28fececbee5b24e644576b8322eb3828e720de7afc2c769a5df64ad39decb9b108a282459cbfe5118d59290cb7fd8597a22ed0b21c267ee9958fd1c791da85b108ef914b2469a07926ac662711625e15a1564026a8ac56aec9620caf6b27796e68668062f6f0f70cd6abd327bdfda9e2a5904944009d48ddc22f939f528bef9dda4fa45a4f5fef205edc32d4dac2b86feb4b8f136c7e331722b3432d788a9cd9e972ab3aeab22fa25b16e2b330c54cb44d5d8e448d8826df430257daa22c4160d41c0e8fb38deb86d14812fe33600354d41e6957557da2bd40033adb25ff67421bd97dad0bf8077a3c8d76985ea06d44900b67dba599894903105bf45d780243cbe2d587c759f7eaa90f5914fce8a6e09cd2fe3bc58b3525d0c6a9ea03593cb8cb01caa8e06de617ffe690de7384e87a98cde1dda93abf4f4b82615376f45e3cab3a5f4c8f78b82034d8218e359d2a313545e5ee34d66c797520810eaed3bcf05043b3ba8d4d1ed0606d4889e2163114d7ab27a79c88bac7882853c656ffc9e8f04109bde278177129c27d6486b20c894389f079cb66ee46bcaaaf51cd8980e55dbb3df956985513e3a0887914a3a546bba5f635fb967f81c6928a49da16af44253d38e95cb20f76b1cd32ebf177a3d88f73838ea57fe1751c88ffd6506e8b711fbb506a5f532e24ba279650cbfd417d1076908a8bbc562b3d86777daff37a2fea736cc852bf83799ed74fb728b8b4d225e9acb05f0b10e8c7ecaf83627279a2ba3df2015e50c998402dffdcff81370929a228a8400e188f9ba5c416f1751e034841fed7fb6196500694962251739033fbbbd742b52ec47e67b198aa68c39e3d20079f94e05454cf0e84fa26de898bf8982608e0f936e0987fa89b8d030a38c59c6d24969304c98900ce47745eb86e3559a7735c4df710e798cf931ff41dbfc8f7088278b8a81254092b7308b360bb111665a0d0e059a0c00c18831328619f950391411863365e2ca234db514f052cb2050df6b440c13ea3b6481adbc84c7cd10fb674f9661d3c40f3f348b6216b495972db614b303ff166edabfc367c0fd63414169f8f6cecee8aa4c2e4bc00ffec7845c541ba65767c865b4a9bd856424d355893707d7ed6dc2cf06357e6dc5a149d7f75cce8a17b7cac090e6df0a5c3776b0406e3ec5533f6e57b11c64d1ec01453a7731736f9053b44fd84f4708dbc1606ff42c9c98e3463a36c4a1d7cd7de68e9d450b19253e52853619fa4d1140558456ed2332e8e756ad1c1dfc47ac531ef5e96b050c8b5c764c110ea08ba7e5d53be0a1303346825d0256d40f76bdeb76aab6e77ad2a1594867c30c1cf87729a9037e382120b57e3f012e7d9f209a0f7a33dc82a89d6d275de05a926ff1087f301ff2766390b7c254b6667276f980f9204f16a8f06497f72f8681542219007cc70a88fb272bc33c2d96c945575950fd46dbdb93a6f90073c9c4529fdb00e63dfc3738d23e4ca16bf6aaff8e41533ccb7c17444e74d67c31751db4771e16782f0f66c1b6a0e11ee3f3a651fc7d82f9d54c8fad25db44da59e9f6ee6c2533c15d0d3272a6821de0c422cdbf1ba2f0e7c4259c62ea7772ab27998ee0c322a9238129082a9d31fd3d561a08a6714fc0b00041a6c54ae51e15d896e0f5e3967e9648671f7617a48a44dd392fa0af34d6b2b4e18e53da442f7a55b19a55bbc4704ddb4a3bf1816212e3e1ed85ff543b1cccd9b3bbd85b48be871ab3dc222779cd5126e907edf936e1c2f0365d96c026faa8ddc2dd8fe707544ff2916eb4ab5f9960e387317559280b343b26f2420c0715e9fc0e5c90fdfb0f5bb59e09d9735776913f580bf1ae14269b6b40f89e5cb94a4d9d98f33cc764278a9b7b0bc92eec97d6b6617e28b6e8fb795c1fceefa32b1a2d0fbcddd5d180420d61a28b5ce6204e296451b3203eb5d70ba1fb8dfaf9cd19ad4c9b828b8006508b7ba10a024f640a1bba3ef2c1700687acb5390d80adb20bbff3dc63b622f</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Here&#39;s something encrypted, password is required to continue reading.
    
    </summary>
    
    
    
      <category term="tools" scheme="https://blog.yanxlg.cn/tags/tools/"/>
    
      <category term="IDEAL" scheme="https://blog.yanxlg.cn/tags/IDEAL/"/>
    
      <category term="Activation" scheme="https://blog.yanxlg.cn/tags/Activation/"/>
    
  </entry>
  
  <entry>
    <title>svg</title>
    <link href="https://blog.yanxlg.cn/3452590/"/>
    <id>https://blog.yanxlg.cn/3452590/</id>
    <published>2019-11-26T03:30:31.000Z</published>
    <updated>2020-05-10T10:01:06.155Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="密码错误，请输入正确的密码." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">本文暂不开放，需要密码才可阅读.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="c3103aed2d8916992cec4f848d8f31b7bbda9b7053f36670e3a1356bcc6ffa3e">76a7c2d69f910a96efe6d4a85086bd083b71be6382a756a0ea08c2f18f8205b2dc5f7b340d04aefbcab27741555ea0fefdf4afea40a8d8f3349545a73a10a806f501c971e515c7af4c7987e626c74cdcd22e80972518f32ca2f13c9d6066565a68e4a26092d116f76526bd36abb05efd65eaad7a497ee9f862969bb026243f2f0c9509dcd011cb589472109e5f201457a2e4687876f82b3030baf1d2777e00306b4af26f4fd89b65fd5fc7197663c5fee09f23e5a0c91369e0fbbdb91231e070b0df06e56150c6541bf612c7461470fdba358c18eff2a49b95d70edf5e91cc12ecd2569219ee16af7c5f0cef1c1d190c89fadfafad4638358c7f45775a7e4142fad1b734f4c16f7646e1d8b0e3218b5436c7eab07dc0de8a4fc8c3a4af6cc6fabd4e5ff544ab5b4f211d7b2795328b2e73a8cb024c646a44fed5909d3768847f2bbe9211924b0fdf39b07cc1bef592afb3524707f510300f5386ba1f202f3f1ef57b483a76d15fa8c4be9dad882ae87b782825f880577f82d2656a082ed89f56f7ff4ccc9745e4b7c69d6e9462530517e752b2bccc63f34a3af39a85dad9fb25c4af0cbcf17a8c7a8b4a0941b8f53fa95342abad68c4043c9f0cad42dab46b5f3454b0ca404792c587ebf6c1f7e53b3030dccfa660242f6a4e75254f53f7447395515535bf79525cab80234828bbb85820758b70e9f4684813756da72952bca7f974418f6e267aaaee60a77567981dc3eceb887b4f3f6824267fd48adcbda71e60efb91c737513a7710dc87ca719b3fa0c28ea3d3da98379e55024d2aca62da0aa1e8d18bd293feb03cf5930d2f4df0468eb91dc1b9b694ff76cfaea204a5e9eec42dac345a5c87f16417b065c4f85ae25487688dfc27dfeeca725202102e05725276edb68559f2f034b04ed183b55ecbf5118e5f7120c0c0b46214db566b867019295ef21bf44ff60ae342aa3641db8fc6d55df65724c23acb40aee915b2d22e91360dee6a30cd372e41b2708d6ece91db3996be58c4e0985652924f8af2dab5d8060b626005d3bf5fde1c88b9c404e583ae21c0b59041cfbeb079f82d6b65989e758d8784e1e9151bdd426755c64a2cd3f44d1554ccacec1dea8eef23cfb98d56c099c34a35e5236afba81098e7f7ba10939326c12e580fa258d2165a9d95235d6cd58b3475be7e28672774455bd86f6426f7d0ef522e029dd8f3b880bffa0999c5f5f1adbf83292eb8fcc7f793aa3359c84a374d2a36f4c7c2c83ea53e890d5be24533d903eded1a8adc0440806f788672513786093f37183b21bb92971823548040a83422aaf3937abb156b43dccf0db68887634709e51cd948a7ee7884aa97e08a770500e4690eea2d3a5bdbe7f4e2fcd6558f2f1e35f902e9785e42a0b6b461515a6957672e91381147649c94c139006dafd5ea279ec10d35fee9e6dea91626d6fd0cc107d4cfd9f34b7af610320d0273b257d344bc4a5f3873e1ab5551dfad3cb08c3d6091d4cec99513039cbaaa42c6b614e158d61e59a63d6078f709b0af4a01092441758afcd524308c0df5acb82a36adb0287df60eb2d64296781e62c2769a2423aaf9d9c2f132be317c75c4efb020546105771005f3398687134849119dbfb20a1d63635810df3f993526d3ad18af0d5182c765495bf813f74c657482e62835c591c5a0a05f8884c5afb8b770be12875edfc7da8304838bd2891df7a2b50d136b0e28c84faf2a2b8528e3e29bce3d8f20ee417bf9c2d65af7905</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Here&#39;s something encrypted, password is required to continue reading.
    
    </summary>
    
    
    
      <category term="react-native" scheme="https://blog.yanxlg.cn/tags/react-native/"/>
    
  </entry>
  
  <entry>
    <title>webpack</title>
    <link href="https://blog.yanxlg.cn/b9f20a20/"/>
    <id>https://blog.yanxlg.cn/b9f20a20/</id>
    <published>2019-11-18T01:09:05.000Z</published>
    <updated>2020-05-12T10:18:40.197Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="密码错误，请输入正确的密码." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">本文暂不开放，需要密码才可阅读.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="ddd359b63d36ff6b3231cd83cd1da9056063c1b97298542cc901654b498b02d5">76a7c2d69f910a96efe6d4a85086bd083b71be6382a756a0ea08c2f18f8205b2dc5f7b340d04aefbcab27741555ea0fefdf4afea40a8d8f3349545a73a10a806f501c971e515c7af4c7987e626c74cdcb832c4e23ba4d7175b3091505428e650ef64681ebc3299cfeb34ac387b069b3d743619b7321dd1ee73dc5e398dc19240f0e0c67f23e2ecd5095468ab1c02cb88547c2ba1a9f4fbaf060853c04a2aa7ed4b697a9a47df674e299619d9c5000da74d9051a7a2a6241661aebbda512f3a0a4508c724dfe357d2d89859bc0c251da96ae60ced778a5c1d20b806e2c90c16a8c8764f492ed027f3fa1373e216b2b8cd80b39949aa8b2b59d94245d9655bf954f939998876b98ec4ff42839325a4a87cf068d5d99fcfa984714e61f4f1f39f791b9b0582671ccf6389d7468cfb528031c9584f912c9ee72ba0b5c17ad8aff10d56a6edc52227ffdaced0d522061351c77ed22923ed1027207bd8709ac10e2839557aa34c175d605d010b6ad730892cbffddc4ba6dd51cc049450b270ad0f90f45cd0b7de44367ac991d4d128b1ff1705dec9da443481cdc5fc9088638e5204b9a7718721650531cdd3fba653eb45eeee8000f69b549f1b6bf32076898ff7d703c82158533fe8fdc48c823148d145e40a1e9097c4d3ecff3aba6423a41bae56ca3ef1e6456fd9c8009c24f4ecc46945484da5c5f777e3fc50c3f2e2196459fe9a2d7e8bb84aed973a125806ee0a0483874e057156b10d746d8a034d4323cd9a23005f973067726758f6979281e8038a6b93a839bea70571008d07e9299bb7068364541789ff1282bb83aa06deaa3adb66eeb314aca12af563a0b5a124b96dccda7b76f438647e1815f3123350e89ec920051259f52ca1e150da22fbf4ccb6ba2a55268dbb8d3c92f7a15f7d57b82257c66493ee91c0adc44b44a0ce8d8c2e6e56b9747a24de34e3821c547745be807f9cff997bbca5c6d678e36c372031d04d87df5abee7a0c4bfcd198d6c003c7a7ac1dfecf8c5db370506f04711ff72a50f2702f1725c844b106eaf82a06239c0cdbc37376c786bddb7f7b934276758976953f6144c0318c1586e3d6a1c3cb1a104a791ce55468d0b7304f8eb5c11ba6fc295ed32af84e662e837eec2ef7b12d4bbd6362ad8b6990332d4bf74c8235db98bf64f69ecb3a21c02d9117c571092f81378c710a9f55e8f5c6147fbd47b46a50aa12803c29a7101c8ec03d06fbafc3eaeaf20d4a978a6e3da431038eea20ee9597adc560ec9d2ec42fafc00ecc7319a6296b90fdcc9ea007dd0279e497cc35a5d604786fdcab1f5e8550d6049a50b2059b7e472c25f8527efc4e453391d325dcf673fd144676c254bda3f0405697da323259bc63f0add2327d14f0eea14417d3d3cdd50241a120c64adda22c18930c7cacec65d0708bda552b9c585da4463a0cbec1edb9dd0fcb382fe02bfcd592dbae4950c54cf670371971a21afcdd2d34682ad64c49614883cf69e97194efc145a800808bc47622906e88636a8686205596751340c8fef6e6efb00d06dc58ce1d90348059059b432d7d0517ae35920a3a4f9acdafea67b4ce874cb68feb99dd8d1335a5fc6ecc563af0da733179174c5fd783738beced54d3a87dc835e41aa39ac48f7a95a020fb14fb7ac19682f53f0f35e2202edbdef3490924e131246d69e4d4dcfac4e02b9669ab6ec28a4e410e2e121892c22b9346870ac62af98bfe101486144e2d5b94a0b098249d758573f4dee3dcf07add8bbd39c2dcbe1c1f587d2e92cce0973438680dd68e40a11091617a3070942331ee16beebffdd746cf062db5e72e4c833e7f91453fa7ddab42f5631f428b97c61a1621b00913e356d6d9bb8e9e699da7457b6881d3e50c0bc2940d26f9140539d62844147d629afc21fe2effe84d5bc9e69574ca94d0f9f2ceff006a5c1c520fae57c0dd4e954f115777daaf6f01d63392c30582a767313d211ebcc317e30cea3653004328a2e4fe810baec795358683605d6eef5592a695102b1b4a8b2d679a078d5ccf55557ebd8e07745b16f581e659d0ecc33f866567d818267884a43f27c9a6227902474af316bd0697e6fd14d3071a6bfd618abd55e7450b6fa343ee41b81ab56796bbfd78381c7d67ef11db1cf4930f720ff1dbb7de7a66519a01b5a3529dd702cfd79d08e6bbb5ec4c9a6aecafb4db70e9dadcb947cd4c33d4a403bda6ee0c2940e1283261f5455ef8ba64418a4b96fa5c8181bd668f59ebd3271e4f454b016b8afd7427fc5150ef9a4204bc61960153554c3e9500c8b997d9ca275b0bd6db143580f10c3dec665028bb65aecdee7224868674a145f429a2c3a59fb7b7cf94aa704670e01601fffca58709e1853aa21dd0364b2c1d6d94ef889dad6b45576de4b9a267b2696a9eb49a9a46bce323399e8c2bc1f2845744683e97c2e32574d790fb321c97e1b8a6f8648569b0ddb4f5a00618bca1f140b1a8d3888ab29e40453471eaf10f387e3f5f8616eb91c0b517706bb31b44ec78397595ec9d92ff28e14edf4a91b42aa84d7b0aef6cf65bbf01d6e42f4b925d0a1e384a75bfee139a8f7cd0f6974657e60428dc4e21651f5d10eee126fca24e11e3afd01c91f225a2c341ccd737434c2d358fa1c74adcda6f001d7adbdc6a24882af43f57a0af07b9a2810916d7d21dda4a3a4cf8b63f8e2df41da953703f5f8b41adb0e6ca3503f38620b62d7f708ee72d007124a5d497c84b7e9321f1e7ccbbbd77f13c769eba1e872df4bf7ef9f19570c67ebfd4de71f9b77c0daac08bb471a72910dccc0a6d188a2499177c304109b48fd6e834fe5f3f8453a7773d0a817b98dd91723c76efceaaaa62eaf5cec76cd27b4ec63e9e5bb2124e5723e9950a5dc6b7fcec140bab38985df78f89deacd33004906406b15db71687e18f1d3067eb814b02629d34a1d0b56ea65337010325559619308defaa6d24c761b8234235deeb3fc954e514ad023894d5c44aa9229a84a6606ca5ccb7d2a01a10caaa6e98a7e6eca4971932d5fcc5310407f229e13f18ac151fe98b4389e04f39fa64fff55184dd35c7aef26efd460adafe008e1ac4209f3c2302e09bffa2fe1def8136cc72cdc73372d6a99e2aee662943a46051f270bcc39824c72bc3a3cb8c098c43d570ed3cb0b5284a8bbd6b5785092cfc8ca169473ca017302e1b271230152560d8a41dc97c795285a2496fe6df2939588d07b8e5682084680901678d7b0b9604a35f8496f8aae3f4fd0729f606cc42b9d7c5cb0afe9273d61c563e61768930ce45d43bf2b0b87a97fe0e2868c2871c61ce5c892f74c722d09ae144f285568927a79fe5e4fac697e14bdeffa2ef7396603b26fe1508a4bcc869426d4f4326376af52687f3c8b6d26199a6e4bda02b39205865809d9fc0895c6a70e5a13aae407fdffc5af26d382eb137d8f2682026c5539470d8c88a0cb390cb38b200d8347682a72239c5f550356e55d7c2bd8a032f6f0f12905d30da0b06495c61787f784cb4577901b164b4e2dcc05abf5cbce943c9fc487041d02d74e4f42736f32a240d5d8de474c6183215c1cd4466cce519708384c29f85115251f39064f7d07ddb1e835a47163f3ac01206e1ec38d1f50acaa722d4b40b19266fadd58d9ecc35c9c6404c7f3fa46bd4c37a3a78179525df2fbc4e70b1ec84c882fa6fb4e5ee40ed107b25845ea494bb09521ea7d99af3af4477f7895026e493f92c8d292fdfacfca681c1f29e9d95e30af5cbe560b259d44671b4534fc3de9d16b63e55e2153b419d8ec9e250069e8c935a501b987e558437d52347fc950f9f9153e41687c26a722f7f818839e1d894f07b2392cfde179839615147feb6d1395c757395e75969626b79d3853a2b64088be12845d23ac2cc0f4187c66d77a151f5b812e16a1d0e6469f5fd994a1b6967c07323afa43f1d8785a6f1583998ec2c70602d756264dde325b44a331b00b3a3a40bdd87baa8ffa6e05b873a86c2474e27798f82e58098823d112d0707575fb8fdf659faf8f5dc55af113685b46961a5c433dff09efbf0342a826a250f20ab35d4fc8f03a7075b9e56f7c04840ab1eb58de0d810dc7edf8f159888b5c748b3bf735d5a6e5df8977a9dca0ce47aa30a85df579407e5dfb58d4a6135ede7dfaa6821803206511785451893d7d4d051c2b4f498cda39cc7b189143f66692255ce749f75fe6e436608cb70816431c3b2baa3df93df027c4a67ce0ee739c6e3afec85ed27c770bda26ca07d0fd14393d386545d07377580e03d04f244e1764ec688962edff3c9525bb06639eb68c972172f730f20e12acf520e32e0edfa3af3e30bf42585b71a12889628638ad4ccef6df2337bd4dbb1e19057d752f66b7574ae3ed5bce0712155a866ade235b8b6dbfdf152b9085b83b7d7c81bbfa73ad496ec74a7a0c53f935c57a97572742c494a94c89aca21af88141f2e556f62a6106967d3593044e6e64877a5f28515ec7d6ae4dd17aaf54bc8b8fd69037c8425b7bc81773619709f67bea7f732d2be6565f1b4a1f0281c19a9252cf6bc310b688060ab8d60fda2ffc4cdc419828014c20b7f913de45f128e9399305bc07775ef91d6fc04061a6c1b0f4d72eaf021bcef8482d5cc3c844621a7e54885e58084baf803eb54889b0db36ecee45c42a96eb343b4c8b2009741f5e73657d951fcba2b7ad03e01e614614bb88a9f5daab74bfc401a2050b4ad350aa2dffefc583a2d2b2107a3528183a82a2dfc7f3d31dafc12d97564e8a98c3fa4b25b413624920141549770415257fc1e164bd8f8dfcb5c7fbc6584bcc4d1be627307303f165eebea0498f7f88d9e78d96bab578461d31559c6d3243575b22fb0862f82e2407163ba4ba70fe5ba2633dd0a773d67d4949a4b3e4c90fc4769e654c10fca5558fd07a1a6949366752a7a764c4443b816e6b5cc59978fb64e0ff9faa92ecb8b9c45e0175b15f8b20a3ba5fcf1b7ce2ed7c0e97b1d72727893de8508a03a15e136ee2c0315bf5da6e3bb6b2950e681745fb3f5885d6105f9eb40be75f42a9757555bc19b7a0747e407ff412f8152b4b1e07caabb23d215af8ce06cb40530806a02eb7d1fa4d881d169de05048f75e4fdc3a3d491c6417d6148cbef03e15537df4a36b943f37e4d015490226f04cb86c832a6106315c3e325b7506ef8360686e55d35651482a9a93630296a506e288c6a04fcc8a355b1345dc382496e1aefbefe10622ac4c21865047e8d7f79aaae64f92bcf5dad1909975dbe924a6413d70a74657898eeabe968321af475279295dc2247a0fea4172fd4658ef94e9059ae034fcba2f1b5b7768e9166c61587e5cdf892dd41aea8d895fa817398495caa88b9b2091e30f81e78572101347436a1039c9d5fd0891e0261763573729b570bfff42235baf5a7dee432e8598a7c64151298b92eeaa87863c23493f8835f22536959fc5357f647016fc5226ab1b95f3202caf891e29c1fdeef7d1487ee67e449d77cf7a73e7c11ecc774fb29339a2c26c01ef1aab82c13c31559685b48de386606e3b7c3c1d0f7d795f863e210dfeee101c6cba12b70411e413eb27c1a6901d989939c74c97d7e977ce738e75bddc9a4794c1c2cd7cdc3dfe0007c4c10847376af3bb1ee761f0342de736d47d82f9c29ac7f9795e40b093ddbff0050ef3a1ed5c434dc34da666d8c599f380dd9f5f995859c70b7feeca5965d2a7c1394a1b632f9d86d81feb96580f673f2539992372d980616fc538c4985913c909942e4eef1e7fd1b2b71c103ef2f85e51f54049672fdd39b566acb6516412063acddc070a165d6cba955688fb872363b4c0d503b3b8ced108360554997654feebc8854af55a2b9ef5e29ddddd0ed65a080e6e9efa85f26d923d41745dbb4d4f3d656dccb6a3ed1ef9bd7137c60831bc79ac801b88f4df4e478223885764e555c53aa549688833cebbb0756835f9b2b1dea13f38a30b51a3f1c2c957d9f29c5670dfd8775f3b6fd8a15b36d7810153b256f526d21b526473fa11b0d10684f0eb118d8b16d066f4f03b96f0f4cbc179e756e00c9c05e2dea5403ba9aebd9481c3e72601bd2a91f9ba01586c1303ea6a40f7c71a5f92583eececa1a0a2264c0d538387b353b327d79d4d0660d1591a8598420587664eef7f2674fe429c09c32ac8e2f3c617333307cf55d10d611cc5199ddb09df20d185a4d38ae7d954df983b6ae3b339ee6048d7e11be0f513a4d898a0673e401adca98470a943b67ee466abd1532d13135fb9124b766d823f98de746ad9083607da8ec09db6a2b6beef9b6d83045b359fa91788a78e127dc5e448e4e3a55ef6ec827185a611bc8418f0bd6b49c5a6d81036a74de27dc6a78e041afe2c38bd6ae22ddeda0d6ba1b8c804bf2e1437b3d6abb92e8a4a5bbc3a20a6448647a02b26ebb6b69c380e5a0159cb6c11d02bafae1a3b87293a9f4fa3718659e385f5c17c625c23762fba5e6c58b0b3d302dac56358ded4397fe9ca2083e2e9d6e0068fc705cdbf603934014c9636e02cab00e24c5faa8e82690f03f82b6665fbf5b7c5502624182c4a7e0429f4dee279ef1bd8a0b797c551ae3fe33f069e31b7baca8386e07741eb986051af31f44afac10371d7400ef68b6e6a68a8b12b16a6982a7d7b1e788cce375fd8537b6d65ab485897fd5a3b59ae627fce205ef464327055c970dda4ac228ed9e12e5de68f1fdfdd4331a6d5f45555442c29b132c3ae1660ae3465bf1a4d460da8c0941bdc59fdfa7e0b67853c2799e968b62cb3fc1e619d164099e9f54afe4072c721ce44cfffecca2ef011ee20fd7fe189bca751e100563993bb05981fdc7ea20c6b50fca27945cffc0227fadc3ad1b82fa9f439df9b1beff92926e6e00c72d77895fb53231b858a4eb2ea6c5b315510185197ec82d492f97829ac930a41374ffac94a02d23a25bf5c6e81a4763d9bd93b2b26ac233ce6b4baaa2bd0b0c3409ee04f47f71020091d713fa53d829410fb6956a2eb5217f0ea00cd36f99c32f8ef3ed02196448062b13572a8c64bb912d4802ec2264bedb879c57949069ae87707bb023d63db3ae375758b7c96d9422d090f33b9c5c4486b370fe174d2b68248926a8d11b133e60bbd9caac223bc220b454e88a0a88723f5f7f70b9258766917af8a5d0e59b615d24ee5e4eb4274e0a1db920471d5bf9c80e094c1838dcf5f9811fc66313de41a3214d04cdc7372357483e2a6041b38e032cf77940b85e20bb582a074588773f966019b7d46a6e840dca1a76492cce29cba0b909cab05e03796b4d45e94ab1cb770bf4731b397b6bff1c3dfd4693a96d35bcea0690a56aed537053268d0447d173321900d635a32af945a6e126e57c53d31f8c38f5281574968bbd8a0ccfee2d2f87db2e4f3905f7193187414b896639f2599b437624f855da85544dbc640663b18835ec2c5f7ad313661b69e588bfd0359a08f79e83a0992a7d8ed4177d38fa942116818b1e45557aa6f42373efa17fde72ce96beb7e2cf97bb3f66c10a61eec67e0f5c4ed9307df968120f45a114e6d39a86fb35f265dbc65f30063d5a4cfc914c1ce41e4aa90458d9a53d991674999e49777cb8a52e5e349ddf98b610094277bbc3f62859cc6aab03e5cf3a7711cc7d0034733531c4ad5423a8b92545606cd0ab0821f98f420f9f45675bd43f1f684c3b07f4406a9295aafe489dbb1fb8faa7458362b8a40bef7eeb1274eaa482d6fee8765021bc7ba355876c17f608df2f0394620ded0a3e1e014a1356fccb6938e2c1d6ddca036b1e6c9f0e8d08eeebfca977d2a7db4772c1f03ba8cd579e98fdbf3d0c3d95697ac86c10b69b941fadd2eb005d851f878747a4aa582afd0bd2d4bf33f3afb3d33b6e71c08121ff1763d5aa147c8ead42c390d1e5bc347e4ad84af809b5c1992c46ef49a563f8db199e0ab5657f2d144b5cdc90f1cdc153eba8d929971d72a8bcae14f539bdf37f9b56f2622f4e008c77c4bc1b9cc08b30c1beaeedab3d623a520fd463c259250d5814aeb6d2f0fe59ef8837ee2a2b27c78453ff5c3641c981c2f68cb0155061117ea01d3633539863df91d7e39b50160f7d832dbfc4f7c4509d9ad539089ff0094176c88b763d4f74ae365fc35ec914bc814b7392ae237c30acc3bcfb50864e2fb452917b6632dc9c4e1403187d714e659ae51b43bf89fdc4751b6ba63b26dff3a513a4e0fd5e175a2b9677cc71b443cbe306f66befdc37cd40623cf393563483518268b62a1b08e361283d1c572edcbd57ac8fa12296e2e5aabd93b52f02c0050349658794fedb79831e854fd0709cd12815ead3c6c67b4c9e540b6fbf4350e67efe32d7d73347abd76113d4baa89f258c3859662101ba16cd62eec246dc3374dc80368aac6c66299c4d6fded5e631e96980b6fa5cca7eab659de7dbbeadea9d64dc0f6562aaff5cf9734c90b4ca58f0beda2b54c8bb16dc415faf9ab085cf421fcb8e41dc881e04b019636bbdd7b3707ca0debf9c7df3dd5ec240e72850c48252f8525a1d5cba326cf91a367c1a976f93facd545ddd439f13da2f27f7a1014b05ffdf606e464eb06ac9b221ec8be2c6cd2380077cd3f3473650dd6909ac92b69fc9e48b8bc49eb597ac058e14490501452191a7ad18f71de8869f8c5705d9d75417d2e5bbe848fca92b389b97c39d42193783ddd01442cda0d3c43a85496600aa77d2d2dd074ce76787e925e72dbb7d90e437ccda965c8f90132c2e905ce353cef14998d03e4ee3c740a42472bf8696745ae5efd2bead23159f0b49005c17d7958fc5263591cca3b16c9b666acbd0a2831b9a8de6b33630ce4d7e755fa8a59c829f2efc5ebc70f17ab49d689c7e5ab3daccad6c0a66cc0c4a11783ab1adc1de9bc8d3fcdcba6bd4fc477bf22bf5679e44917dfe6aa77416c1bd73e69b24f6e8f59109c450bfbe2bef0edcc9f238bdb5f51954d4c44d2fbcb7895bacb8dc90bb6d54a7e05394e1945ae1ea857f442f5fa3d1dfc42dc1b6ab9ab894ad92dc4946db6f21595f11c9e0ce5f8686ad0d69275167f56320b41aac919cbca4257b61f8b7a0a25ed3b23aba8785ac97d8d10999d4397e63e6a60a0842aa7104d121709ddb04393fda24112da02c7930b8d49a6c6b8816e1c57e7a2c54e78b99741b5b4fd81395682b4d229e3440dad483f4316bb824ac3c7ae96ab558f885bc87237d1a97def8f2afcbb1f34791dc663d81dfd4be5dd608d59ae412695626a6fbcf55309ebfb8d0e5ab0881b148b7a47d9f7262c4bf0a4853f65ccff06aecf9af1f354db31cf5d89db18cccc9087eaf5207ea0189f0dc2e6c9dce1d731efd565c9de03ba59b3d67ab176f4286c7083fd85afb20c4a1a0d0b9c291eb6f3c70d4eefaaf35074d60013b8ee18e6b02c9c41bc26ec271b2826defd51b353f4a8500bf2c7ec70b18f530deb974d1245ef59fef980987fdae22ba26e51280b86e56a52ad0da0eb5c26b5ddce1c89c74c1bc009cdbf7662d5039b5b5d2cbdb90512c9e5f60295a2c17f37f72a66b0ed532cecc5f5072ef11820b3ef744b10370b244d8efc711342ac79a2ebd2a21ea70ccc8ee45a470d8e19d736e897c980253c508006ad87acfe0650a228b80cb95c78dd42e36e27ec2fd7c37d061ff50f2c839de85061e62fe01925b93a21365bc91bd1048dbcdc0e775cf890ba727fddb093b2684b07e0092ab59bc6274041e95b8e5e7403afe020ebe7ae47bed50b108b5ce9fba9e7b0a854ff3a82d48746f0d2f79ddc67d6639b2330ccd13f575cdd707e062fea1750d0452ec1bc3c042f152fb57bea236d71590509f5cc498104debfafeddb141ceb301da8629a55bc1137df6bdb82e2d07d27dc0fafa2c80d9648982ed4aa7c86b3ed0c9164c8c8a8e1a7b976f02815418cb9eeeca4ce5683c66d4e1239f55135fba21e9af0ae547f69355efa8ff9a98a0ea551a1fc13dc41a2e164fb9b5e25880951a0e7fa77c70c5515f9195064136e815a048c1974e876c57f03fd72a36f030c100ef0727cf60a111084fb2eb74f209ded273f62fa85d73f441a64c07f82e27aa92f9b7ba900e4aba9cf7ae02c1199ec94a8a8f57cf3e4a94e9c02dbad60a626fbc7e028a72837cba3fb2bf86e89a5458ccdd05abab427f267a3288723cc95283679590437326e6f167ad277bfdd81b0bb70f61641540d04e68f347c0c7dfdf990ec4bb81f0216ce206944bc396e78c0fd73e5a63a96c2a27f6992ca865db21e823726c59efb02d7727dfe0fe107e479317a527d47a03c11e83136df47ad181f23fdda81d36ade6dc9ef34a73fc5fd0289beaf03ca5a3f354193372b6fd650fcb49469aa975f3090da88630d743ed3c50a36c69025045cdb722205bb2d504554942bbd3d63765dd799077d414f50a4f57cab887c8061f31672eeac96c6b404c397d148b2c4cbb2e0d5f5438d243e834deec50bed34dc1e89f5c2f988440b108cbdc75ae5e0f023b2130f9c116897a75b438d58b22fcb8225d393f97f590200dfa2a06c2bdd1e714b7bc4df36421a76e73efc0d076246068ff10597c0d0860ceecac7ffe22444c00ecb07d4906360580f57e729c0b6b03da10e500444328d0d89c59af0fc344e7c601d1c598c421c2abe5dab1390d53e0aa2f758b21402bf49902b3983b0b18c2f9ee15c70663483cad75f8f9811fff6f22ed6a067dbd5d99522f63fdb2e891cb009f91f3d5ed2512df8827c63d617d3982472abd1e1a2bddfeca850dd4ed108aafe174c70e86a4df6568c620c35bf209b86db56191e83be52e8d66011d980ceece939b5c659acb45b242b67324716ca5e6bcfce6db797a06e8542016b4575182d933c5b3d7ef671043c50fbb07d758b729f1b81ec740e0fe5dbfb952ad293682c991fe1385eb4ed0e41a438eab35094410a728c79efacd20cf60deff265e7b735cc448f8cf741d69d98832da70419ad14d3625a00901fcf41ffe8dc49dfc12c7705d9ca97964cac9f3862f5043be07d28fc603fb4bafb9a6455fdb39efde9afdd442b9b6f4720c76069bc1f9bab63744f8ba4769e457d85249f69b59bd406db2cf92fbfb7bcf884be1035bb5f3798c84da7a69890640bbc61127ad6d36c29d83a8b5e066bc6f601ea66f82eefd7ea1cbf72acd687936ea8df2da427cbd09a7a32d20982e581e9909c9b36a818e1c8d1be5d1481762fef64f5e5106c6d698a00284b35284c881bb6c0744d0c564b8a5aeb1deff6a9cb3676c9bbb03a9a94ef088f11a7f0667b360222f8e4c29ce2805213c2342e18bed463b202ffff49cb4688b88c4edcdf31f37e7fee3a2dcfe0b9c7ba6f883d70186dda2b474b3ec8e63b81e72a8fed72f79b0ef5ea22fa47d89def244ed0a1d5c5aa7178c1c3ed2cbd4498d823f3650a9e0b9d3c7856544b295007502085d536a7a53ebc3d409dcccf4f97b6aa82bcbcdd98d32193b8acb96818ec08c8730051ce214d7bdf0efea547484aa0050bc43f4cdbbecf3fbbfcb265a1a5bd32618ea946c738c5e9a60d5ed61d72b5488e799e8270f649599d67e5ac7ba8bf90739e39dd93c0a75add9096b10bf7a5a10212a54d9ac6c212294c929891a4583087013b21a84d36c0be0380d8cb292c59f6751785c6e5713beb5755fe687544580d2f0c7a6607b2d5c395d932dfd21c13c885568e68784a150b8e3f39fe52ea095e24faf841b5798da353f6c04a7fb095d161cbce763717ce2e76cc1421aae7b8c6b1a20b43a9ba6b4bc63fa558baf4be073359fd9b6e9da2e31f69171b9b95690f249a2e3d201edc6e29c9e1937bf6d55dcd3d29b2bb571b276f19ad5ee29e3ca29782f03984b47ddfcd85843db7df3b410a67aceeb98cdac592d675a85ebd4e0c4e622cdf17ca44fdbc40a23772b1d667f3d61f93f6cbe838d60b914781890fe6cddc4733222cd3182c5f6ee205d2a6721d7dd0ee52514f6795a43ddc4b283db7aa30ceca8a95f44e33771c07f48ff66467e1a619d21250761afbdc3af6b6bd32c4c594663f61a0cfb35d0bc27f82c7b222669aac519efce1a0ec83d6dc532901f0d64a410c655a918834c8cf095e53ae060b509324b07fb91f841492000156cef0d4a6a89caf917f27e3510015c15b494786ea0b86aadec04adeb2e06d61f900d832214d0b73da46f99b760daa3e01f36da068625aeff6ed9aa99426e249b08f94ed40f88504da03e3826c9384257887541722d9493d992d9b924b07dc8bb212ad526446d197e87060649aca3d55c2f3edd8f7d291b4c3ffba4a6a5f75d54c77b7c77b4d5051ea2e253a1cd40fbad99da16c8e3dcbe57f1e638f7ea120f25dcde7ca32413db643184680bc81b377c50e190767bac6953548821e878f029334b8358cbd22de3890afe94c01a8709d589903726729181e685fc88807208e8ae487d13cce9fbeeee12f55e40cf039ad88e4c7e9ebe19bea948dfa5a278024b75c320a97ad8884b6c1214b9350af95b24601a48426f5507fff0136d4c1334f86b14b0b5356ec9cddb16185a186fc369497232cb4b598ab0b32ef5218eebaba7299c190631807969d7f0f2108b209a5bb413e2fd704c6315d726197c52010b604e5daa8b242bb7c381d7d3c44c43e7d96d1a4e78897c17e81d9d2b9cc09b25416c4bd0eede1773ead2237099b43102604922ac3120da7ef28cf818aba5e655d121d1be3a80c484d96d5916160b30632ae5e79d0349b970764366998d647f0c3b85fadb1d4be84b8612e3d950d5ec00ad00700a5add0d6cf7c9d4f1c845836b248ebb4432df590bed38384d0d5d6403530828db521ba778fa65c00d5fe2cc2091e70063d521a8591e0b7cbf78e8a7efa6ee28e4b6cfe439de4714081b712901d3d8ba867d35c5b6c4b7d0e1f6a17bc8b181d42b9f2ca57efa6ed06a0ec7e8dc8665f59383ec4d150f8dca8a5a637dff362283acaaf08da6ed41b8c40b2a23c65fd6f2dad2b1c69d20788febd3f13531242dae6d919c12112b7839eea1d732cd5907b84b573820a992174219c284517fa0b56c284e99cdad08ae08500923fb2be3120a27f9acaf3790dc5ea2bb11366a8f93c56c6c33cd52be6b08d971b8cb2d20b6a1fa5b1d0f57a15d35d306003b52d8f6d3e4815e509a5144a95f94aba4750c567fac93a5e6af269ce3ae816acc3957ff02e0b3d9e416e4717f6877b1896be2f962a751e75662f8a35d08200fd7f39879e49a96e3be1df15846597327c8baaedae0f4170052295589b4d30ba4ddbe0134b4203ee3388f5db9c5380c6c314f592d53fbe263aaaedf2f58f2a6ec998740b5ade77ea54b5ae3e9d4c4076b1232c9b236d2078e6a583cca29c9146c4da5a7768385ccc21b1151025f0379953eb8ade850059f2e41e850dd2bea5b0412114626c0dde005a6775c9de5216e8e96dc152f827abcb9c31c0275dec2e78ad4a257158f38578ec4fb30ad7c07aa87f7774c8bda8b7b65e5aade0b50c7f8d7d57c356255814d4a775ae7faff8582ca72b2d6f717b98727c996b65609ca3b9c83536167def4c2d0e2f1c8371ab09b9ee0c268a0ace918ca36ddda8da31720aada6cb1356a944d288147d260edc9f8fc48f060d4116355d2d70be5c62a527429a186d64425bd80687d1d009a6344db8bc8c0141791c72fc345eae78f8f4c27f9d1b82ff3c1a904058d528874dd2ca4e26f6c3788ea9e074dffe123a3191afb31f45608e13a3550dea007617d7de7471382701d8f546e4bba73f9ed4cb424fec26259f59ce5187abca6496cba10061f966721b8e9cfc38c73237fb398df5fb70daea24c2e767840f9558066067a3578e393c1f5ce2f0ae0c295c86815aee1392c08972e8084ba6fa6c6fea68c9c72a3fbe11f82fd1baf01fb8ecd57552d7ece6d788e191ed47f53f74462525168a89c3d12dd08b555afc8513e982171160efff4a0ea21aa8d6727db1d862fd8f7c679745032cb0e3e34cc998cb05599a1e3061faea279887a41896bc8f9bd322491497a25c10b321b7a3acf39aba8e9c853eb753235e392dd66435976c655e4e2a34d61f0f33ca819b6d94aa93b12369a0db557dbc57935ebd060e985e38d4b58018d221531b19e5e2f1ea21fee3aac3218def7b309d728deddab82cfc7742b7f0e2203e3bdc19bcf4ab66d88ef8b7e4e2c415a8046cb03b68615c1d6e5853d69d4a13e6b2fee36991bd16cd4e8590d33c746d3b29ce4ae699c7f126859bbecc2efa46320c390f54e11f79a16a5e44a2289d12796fe7bad9c304b365bbba159bf5744c1b4086d6f95da402f6350e5c433925e163809aaba2bd9820490658a11952ac7706080712d180630694e698ee28c4888d0404e40203227eeb6f6e0ade9ee60bc43e9e73f53d344b38fcc4821de254a84f831962b55276cfacdbebb3e4bc099c70ec290a87376908b912b89f6323357ca21f5ba41da56527d926602963470759e604d77302a843fa613402d9474c19d97571ae76962f719a530579f0b0e14a16e32db2bc15e6e40a4906e96d40e7294a07dc2923891c3c428e0045bfec8002a3e60784f1e5695d1fe97dd19435e67a3abc30133cc3e69814c9470a5dc5dc7fa18b4879c06ebfdf733ed66e90221b5b1279f5b5454a4f3e715d5f2d8a27cb621d847504ee6aa05e941f1c87c26834aa53d2ddd7cbef9912550079f8b705b4c3ef21664c0b91f3d6ba6ddb35d52212b553c76efa9756c4be57aad74068d3d05a853928cf70a26f821425be8a6bddf1eaadea14b6103eb0d5dfc3100bd4b6893aecaa153c590470982fb79a7dd775d5fa1f7239f384d68f69b6b404ecd0c55ba844b8b2b80409cc734abd6bb373c915c36e1c3265fc0cb32efab61790c1c356794bf28f046e27f4f0bca2b9b135cf2cc8b25b3495292a43e5a5b3d51d28625236f1ad5a65a5434e7864f64fc0122ae96ab21145a63e79127588b2f99303863b232b211e93b03a6faa70f24f3e4c90f2d7aabc5e6d659f5cb46882f00cdb5f8312a08bb45f76e9118cce9cd431abacc004dbef9f00b7de14126cb798b227982be0d858f2278b876b6f4f7678c90586ce02ece4e3beb550ab2ef72c18ce87981b9bbfdc85e2952b869521f2141fd8f53c5b8f0fa489ad79f396c4bd004d009528b6012747b6f5b49f42485583bcd63bd4cebd09ee8d0a12f70b5eee3231b7f796d01e99fa9df0ab579591aedc73d8331cf4b0e794ca80a55f567dbc95e655c57ff4c487badca3d474a29fc11616ff13a44b6a92bc105843f0f36979b9a8c52e86b6484b30862a0c9a8821da1bc41f345afcdbe5147c582ecda0e6ac2883cdb7a3cb32f6038d9cd01a52fc1ca3cc09359815a9c4a740b513ef368a5a90c5d84f7d3e14c5a6306c7ea6cc596703eddd5c764417198b4550397e6333b3ebd33766f2b2ac9ce877ee14f363b7806ccfe6d80911751c973d61f5de077b34b1492e3786a766cf3f72829bf0b0de5389241b900761488e35c8791ebad147b8e96deb29ba37d6b2eb86815d6088ef1c4fcd473acf9d8877cf9ddbb5df7167a37d0bcc0a2359fbbdc4ec9b6810f8f085e4ef9116eff929e15bf920af918c7c799fbec2b9bc5b873f5967e2089e826012aca6bcf5178c125ba084442ae899c632eb543ab4f597354a9da9ac464c41f58c4459777936778186658c2b0db93cc4219e779cc6af86303888cdbe6fcea248860f041a7d3e628afa4313169c81f8ab8ee80ce56097fcfcf0a6fd402400288b9ed8b790cbbbb403ec48ff4b44be771c53fce18995b6fb377439b6c8e257badfd4cab6abff20ccb2b1cc5d72098629cef350ae458b94a017b33613e1a1c3d8f7b8165e61b4bb28b15f5961ab689247c553f21ed50de9177509241d0305f5dfff70141262f6ff2bc09ebfbc68815c5b08fe0b3fc07b23094b1225f8add0033e3ab79ae8af463ff0e5702aa056e27ddbd7dd11ab5b21246a138ab2825513d690a9fb911435a7dc55203fa045fd95335107b30e6a6137e5c58c575b435b0ad2127c1a78c3fa62c40181dd40eea5bac9a196ac9fd6de6024ae3e15aca3c58aa4ff1f8bde4176995d7b4583cd427b8d04cb38e1b298195df4973db017a4c7844ddd6e76ca133bc9440982b1ee59b77d69040c3deaf707d2efaa34e427755ac8b3d7bed91dd2aba6724a3af02f49d172331c024ff48320b4d4e2bbf0fc96626616c5694e4d104e56b343a9f166ca7cc17f90d8476f3556917b18d1265597257897617e153ad604ae40348ac2d7546d1bb882130cca5282b0ec536b94b72a495997c1b5b8575d2ca438c18c40ea7e2c784661742c9c636d21119e3108d96c7552fbdb226ec8249e26ed7374f3f0cff17819b569aca675d794c8739c6ab5f38c931e570553684188b7d293cd449ae63eb833ae91fe28e18ebba3e9c79732da04a3bfc0ebaf8d9a4e2d96e8439937e6986c0aa6932340c8a28ce8d25600311154982d0634ebe70fdd718076c477003e2ba167cc149dfe2fb83aba9211208ec5d730c691fd27bb6c28bb253dd873b98aeccd9a5be02bfb0535baf510ff7351ddd3a69597f3210f00acc86cf12c6e6754edcca609e0d2a908a1d7cd0fe9e5f95199b419033bdeb3d97eeff911d48d711e683bc7fa6ad8f2bb101d042547193872f7fc156d68b9afb8390284f8d4e9ec25e0f18c5269d00a7d9daa2583b53f8c6f297837fccf6c0d3576da1117d45a9ae7d99d9292a551e7b53520f8200bece03485b924eb8d31ad9e4e346fb2a543b9e161c700e0650334ba2f4b599d3d43d1fc17c807786516ab4e42046831a2a8b83990ffe3c0e2b4d16478b776af4c0495b184caaa1d6d2d4e1ca197b861b0643c6834ac1aae52fac2abf7f7a7519b30fc2edad7859edc323153b5e1606ea2b9411cf758567d66fe86a86910ab415a5c480a2291aed44a167e885b84fd18e49b1482e9aa16298ecceb5ba627cebfe5c074e421c5b9c1037652e4c1fb06b3a5509f1a3600361e20ce1af4775996f029177bc00fee56eee0746bb390ef2f465cc33142a52e68678f884c7949245fdf5ac1ed0f96016e14523e0596cb189fb00b697cf185739360a9c9c4c06a41bafcf9ef477ad086035f126dd6b8281bc3e3aecdce78856d3b993e3cf5d967f66b5a5f7802a5efb16c8ba6e0f88d74a8fef54de464e9606a7e7644b8e9baabfbed6cf92a8c9c15e5478bc66124d5b795f803eb063785f06356b98dd26e67955625c727aea9ed10f4c51e2974c47ffd8c1cb5dc3d1accf3c94efa89a49043857141adda0d05df15b37d76965f78590bcd2fbd189993116975b3b5696152f4946b6a900d8abd9d7f05abc2914111df3d56542fe9389d8c313773a04eba8505d7b8161ea9f852e6943feb60eee59d11c34c687890ef34b73f274eaf93ba5b338eb1f6ea9e7bb39c1d1da6cbe0caa448fe4e8258720b14ee1280b8f0eabefead894d074c4ccc020e2ed53729297c1672655493585ea49e8a9b21fbfe8a87ca49ead0175bb160f913606cc824a3eefee2c04666fe8f1756bca2789ba9969c966598f18861a3b94f06eea53658a198cb73950d9f960868d5d13de837f77cf9e58b3f131298be6cdc5e07c55891879f606de832ea9d212c7afde8888f79c7a09e7474fd99e4e9a90df04392e083f8e99f077867f6b8deb503baafa7e7854fe82a351e70b49861bcfc34f2a6bac29ff8c1a0cb01d62d44cb52f3284f58f6fed8666f4f9d24d539899abdcd0f2b167ec7fcd54a61b2041b093e7a141d5eaf2990c9767947534acebf0192a9cb547721acca8a61e657a553ce721b37c219e1d21a9023c0e69196202469dbf128b86b8113111ce498321fd0eb1c39ef048f97133ab48d072dab4e7a5aaa699ec0962068c8bf60133186e2bc0f7050f2cf8e0e2c67bc37a64ec69132018bb61c549279fe919dd9271fb83e1fa5b6ffe8d8d4c58af76440b348057695abfa8f12749cc577a47932a1a0b6e605fa5775dd4b72404054be8e1cbb1f9236a6b7803b8186db205396b6ac77e0b980cf10d9b7b44d51f9ec9d40e2de8f523deaacd007cd1f51b355571f5c0db98b712cf9f1f8b17ecac796cdacb6a569d6c34d0b22ff42fd857621256580dd4c1188d5558f4609d977679a9c671202c8628fef0179f915a256457ca82e8617873b146da25227d7d9bbe5c07fbeb240080f8f7851a3e9c96db0ec3f01a36779137d4eac415dd08858fec6c408a432e568f888271a31565c622d915120b3b3267b8c5af9b483bcac4167ad52832376415dd23f723ca7b1b55f62e635a9630b70adc384d681006ba2675adc63174b49014865acfa8940618719a88d31adb7341483ed0fe7e9dd1b0a1b14dc2498f147ff962fe16d2fd898614e6bb6790172d12cfe52d366510091cfd152cf44af7793f7cef14e0b38a047a3a965d2c0361f68f1dea5ab97b319a04f53874db8ae9387d77d8e4959858f954ea9f0bc7ca53c0b61931db81ac611f1707fa44a913d3ea544de0afc5e83b65aa7564afb0a6b35d9e18c2bbfc4fad67bb0e389607a5b5f371e8207c788dad49438180e83495e42c6e448133c58886e92d25a9a5721fd634c1214af8375651c5bc8022afb84cf34b2cb3bd6d71091215f0ff50f781387b681b033e9f25d9dd09b0d7fd7af0ef57c804c1b1cf2b17919cd25ed96c56e38ea05457f32cbbf4ee00abaea981e52384ae93cc5491b53be73367c8a565288704dab328b9a84cd5631c8b8e34803b874c6f58d4b968fde439ff58556981b6a8806dbfb2269ff74abad970a313c3c82491bcff7f44c41e5a1617a51248c11fea16ababb15bab1cb55645c32fdb93f937eefbe9fa4f35f1517528d09c91aa2518d29ef22af0e4d9be32a56231e16b6232d43b0bcb7b066f530ecd7f813b3f423c03bbfba6a898f51047ffc15f37bbe11582e5eae595b533d5fba3a1606e7ba8df1fa91219b938a9cebff6fa995c3e30a4fa54b52fc70d6a9fe0104d8cef7fe540713d4b756aa98f2329ea7fdb41e83b5b392d1a90eda24bf46db9c07853a24ec696ad806d1a2084cdcc01cc5c516a1e6a216298d668e575e7f58480e261cf7d4a7b0f5c28c6e21f54acad04cc2507703b6adb7f4ca463e7cda9acdd99350fb4130a36804c94907de97e31c610633dc0fbb595a9a6249817bb7f338687af35e0d2542136676220e7691a06510255d8d829cdf8ea5c3b55128c74d493d3626f83c60d53fd296799e730d07fbfb0763a10716128e5e7a80cbd762b269a97f3382bf4466484fa9f20c6c9e5c6b9b3f703d147b2d2659709389166c3ef5a33cdf4ad8318a9cacaaf2ecfbaa6358eb891c16a938a972e48fa58f963efb5fce40fe6f8d39d91397f8391d60d1bb98c1ca1a14d7c35268cf99a16c77376d559c755f5efc21b890e1d76acf0ae7f1a7f668a271960724c154bd338ef9b63fc870de1e07a59c31f7a05532ee3391f8ff27c5c3051c4f56951b747075595907c6f94f12aadca3402aaedc34d62f989b3bd98f66955bc23ef7943e10ba62f2a4d8a98a456ba74223d55fd925a38eb0fdd3dc0c796d13704468dd2b9d6b193c658f576690a9d6d8228a0202a639710aacc2d3be9cac08cb56c1dbce2da356f31d056e3e5e4f863848001f5c950d69b5675dbe7b0dd2351b3ef766fbddf4ed1f516dbaaaa26b13e313a3ca3ecd7ae507609385150fbaa83a39a64c5f079ed100e993edcc2139e821403f80432b9a00f555eb23d072059feb34f426ea3fa8b15af8b23b24ad92a8f1f23b66032b2d9d904d378b429bc6cbf64025cbe204912e5c4a811d69ce622f6f9f18de9d0038c51d7e0e6536af2d4421a8ea3ec26250efa70abc1787133e8c73c4061d5dba6a52e5d43be1af7c9032ccec0260f21befd03e90e0d28bc7713e528a889094dc9acdf9fa0e1074b5a972376a0a0cee1cf6fa595c6370e494399a0ebad7266c45419f5d9b3b4f94e1c60ce33aec95358e21a98b4ad8d70cd655f9d60ce63870ee69d5766cf422bd68421353204be10dc03dfcd2f248c83e6478f9a49f96a336d7c122c41b53782515dbf2994c3d834855d7bea2d5782ef6f782844876fe1c83294723d3cbe524faad53b9243187b34d1fe3c238a64a81dda3feb231095ebfd3e27b630b122cf1014ae68e8a826d2913360b80b2fee845f711564b55604b74647acaf60757cbd2c1e2ff9c9ed9555d716a97ef5b8c0aea170f99d67030e5022af3a9a5de0a768c237840ed1b9d1c2b8f64d3e32efd0d01b5d3107bdca626f9f28aafd1ec5dff2e25a59f076749c9f1a68fbca222a15efa83d78ecc1a8b74adf961b88db549239cef07414f488b32313b01baab3ed7e03aa0e7c6aa4f22d6b10febc6663b1a41beec8c59e4340bd0b006a36783c1dc4fcf0785eaecb1bd24359a639d6fa970c472ed7b390ae194bf25280c66b2ac37de1fbcc9d86224c66038789cd35606c046b15821e805b6c753d764c2ba87833a273574a77930d5760f330e38b29f2375b4ec61a227f282f402a8227999850f6c88e081eda70b885c11c03e71bc2bc86168a954a92e385504d78a8dd854f704b07371f1acaeb1de1467e677f0ae51d060e617bfdd8a33dd531a3730895aec960aa6adec8f14451d3e1a657a74a5679a1712f773b7b2f68cb07e8fb122f6fc919d3c6155e1407d4c1dfbfc7bb7cb5ec6bf37d1eef5b317c7c94f309cabc65ae6eb4240cef08500c26b213c8d7579b2d09f46fe3153b859ca23c199054882ff3b5e222c6e26897ac4437cb99a3571ade037956df88654e759d0635a52ddd75382b89f102fa58f414ae73fe1b4fd2ceee7df8040056c614e3f23d84f8fa036debed90472bf977722ca928c0a018e76a624bf03d9efbdfd1a4143f0a4dc992035afeba3a62c3e1f51e2ee600fd4803013382070e9972d98c7ab82266356d8b2983f46acbe7ffa7781803a961d2ff247024d4039c9fbda2ac7f5b40fac6264c096c49c45b2711b4c153b6e08b3189e46d89787a014b84bea66c522b4721e886aeeb92dc87149db3a99d29db0c2bbbf4db0f2b57a8f4e87a0e2226c2a89f7e01f6668a11b1d22b77469a0295df8cbd558ab1fd1e394ba604f88a3b83a49a7ab5fade9a2b7fac5d3832ef1ff7aa227f81acd1df9b07e53ae8762a0656f910287a2a18a129ae9a69c07d0349c08b3bda8ce0c2cc1206e1a1965340fc72c389d52d65f15347eff0d73f3aa86e4b21b0439793507efc1c00a26db67ad8123094e2b8eff80de8ad4c6a1429ed985356f2ac004810c38fc3305c8eb6a560bb44465adb52d75107171dfa205acf4ac87201c2db146cc81f2769b84ff0b3a7d8a52d4096b1074a8a10c7f7638b6ec9eadef2428445ed5c1f9588513fea211fea7a17efa020a9256448d2733a495dc55d1d46b83d6b07d928f3c56b669ff196e95db0d915c5b5d43da83d2a9f6297ffa07bb275bd0ead202c688297ec956b4f149ed4d7f20a23c11611d538f02178165e20c71e451e4d67e02a677ea421aa95a4e3e5353803086f7445d9ec6afc69bb5c89b1d07ca4275ebac2c4124bf2c4f9f86308f95424d0982f103060d6c68209142f66ad66afb0bf97c04d160483feb938e7d5ff1825d567b3db00f9510a4a23b8e8ab1524c46ae205b8a7c0b37e2c0f62d9272e3088dac6ad5eac6f22d5266a60a055227a80f46001d763d3a1ef502b86f3e787b001006cb78001e3d3749e634df7e353ecab181af937264562f1d3d16cf4fca3c4443d6ca555207504d0bc702e26b9ce55100eb834da459787da0eb0d57b0d6119fe501c540d63ddeba0c5139cc80e1e94fdb8540c4c4721ceaeb90e18a370bd75ff2d9d3190c45023c6463dba48bb0d8ac11c24fb7707557c728ccd313f55a5c6f5b8f0aae353313d7f4318e8340802ca9334f8457f65c6ca9efd2197161866f792e8045568b25447e846d1d6f82ae8fd0c2ef90793fd86312c115ae273e8468c5e53ca984243241a144bcaaab9dd5c380a4eca623dab19e081e9a765e69c77e45b4645d9fa632767a92b87985472cc532312d85246c2943089aa449402883c9471d6d4377d4b8e5a499809a48567f694a1b0141643ba0b4bc0efad43808888304b1a6d6b9eb8b3a3c85a0def33785a40ffad8d072b215129cd37b86c8d89a7874945b6a2302c204ba2ca5c2b0b46e66ad4abd6c53f2197a4aba142a1200059eacd5b3c48002f0c5862119ee27d615b13b8fc6ab1fc41f74aa574c5192f5b9a0aa84ff840926b32730130d2a1a4efe5e0ab62493f6783f1bb051cc8ebed600503010942875b01bf2c1d0c9b7cfdb3e443b40993e1448da5a4346d37377fc2375ae9572b5bbb68f6c34323765e5bfb5dc9ea1f53b79aa63b8fc0007a1f7acde2d6b190f32e251aaf57be72aae3a9539bc3ae66c319858b167318189f223114a3f7e7c2ed81d7a951d545a3ca4f8bba7c866d1fa36e8426cb7261d4a003fdbb7ec82eb49f54aba7d97e7576147e73259ccebba1cbe34dc2860b670a0970c7575a1ceeba5042bf8277d76072a7a4835221ee7a584eae980e4b096592dc59918ac3ddef96dccf0fa982da3d03d158001b1025975cd2a6c381f2f621cb09f5a4ba3f70b30edc515a19d2dc1b2dca39d8bca01157f662bbee9a3a436b1f1194d4f178666c52fef1b32169bc3c9708f2efc0caa7b953e38447eeec5ded23103c50428336751827f1beac81275ff07d2f416b3d461727aaf482d2ab7156b877eaf7d2ea58dc674ba7af9c0633a6b40e2d68bef379a8c0d7753806e9b57acae699aa51b14464fdf84cb1092014d1595520c706aae7dd51deb12ca8a19480a239beccb0b1bc22ea4d1bd93839e9873491458710a513c8a7218ee1db82ed2cc705954f0d678606214e95b0b2ba47efc9ec646cebe02556ac6fe6ba3b4742d4b590f29dda22c787ccf899e0abfd1e74afbdb0cdc15fa04515dc9854eef955e610fabfd8cf305b1a941da02562661b6ade814279115e8daf109859b40fcc95b90d360939e3201ae20fcaf5a256e6a744d0beb52e2bb52f3783952843946fe1ec4c99ed7ab69f5becf09b42be930141cb04ce8a7426f98ed196a61f5612fe986f343a42ba2294a0188e6bbade2b7de1a1ddd079798602035ef2f6fc7afd2e0d4c7526c98791ef51fb050ac528c5a4004d2c3d5d1f2052c6b1d5e75cb1974f1a4bb44fbcc6eb81e3c02995c767a8b7525028dc64856104a6aacad876e579ce2c66cf76dca80c8075c1ce2a23db1feec5bca5b0d9505c73ccc5094d6b78eaf65ece9bdb439cc389691d54a1fa14763393cb1bdda94b6b516b874c6e5b9da60bb66eb447bc8e703f0f7ce13d4adf13c93668630bbbee4fd3bb3d027b12d615a74a6cc76600de92d7a5d2d3d4009deb357e6caabddc2c2419accc7ea1b46856d1d4111632aa0dd991aec9f6284ffadeb44f3254dbef8893bc42b944bc92b55df48de79027a1624e55a63f2ece7a21a4fd5f74fd6ce3f148e084123d749236191b256ec32cfb35a5691d892f03a3f7e43949772cb7849a75be0b4a387b5960cdcacdd28547923d607f1dcd282ec438eb99de4ee8f740f5b043b5cd2157769582a0e775cde193a15497e4aa5f269137d86d5a1a0bb93b499246fca1184fdf94d75f77bc860f5b2c7500d416cd33aa0b413170fb529c68230b054cc387d9549a1b1070652f1992842173075dfb09f901345372b5d971851fcd03ba5178b173dcb056b6747e459e11818192e6995422f416b16be0f4182eccfea05cddd2e8333113a431734a1448ba9037d66db3042418ddaf7241e8fbe9827c7bd7965d3eee72c4787cd2c5ad93525b98081102faae098a6e277f9c8ca948dabdf34570717dd8e4b709a78173ba43d32b3495b5537ccc5168d79dd8003f248bc7007053e32fae6aa11b7fb8de35c8d5031377a6feae9d63285416308ed5ba064f28c85da2ae04a318446cc1084875fc365bc58305d593</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Here&#39;s something encrypted, password is required to continue reading.
    
    </summary>
    
    
    
      <category term="webpack@4+" scheme="https://blog.yanxlg.cn/tags/webpack-4/"/>
    
  </entry>
  
  <entry>
    <title>umi.js</title>
    <link href="https://blog.yanxlg.cn/a96cfee5/"/>
    <id>https://blog.yanxlg.cn/a96cfee5/</id>
    <published>2019-11-06T03:51:44.000Z</published>
    <updated>2020-05-10T10:01:28.821Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="密码错误，请输入正确的密码." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">本文暂不开放，需要密码才可阅读.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="0e109f9497fdf91b93c376f64ab866fb96e2692556bcb8b88746209be690da95">73be6c7b1c3a7288fec0b8ea9b8e4d2e233a55a8be666d691060881b0c311b73d62efc8b1c368e271811838b2f6864bcc66546593b7bdfbefa1a49b93da64661ba4b46ae432a65ada5f4ff029e5f68e11b7066ce9f69cc805445a06ca6376d71f367b51c5330828368fe1871ab6b0a33e1e6504e287a29474ba5c75a27bf23208cc75af6d0e4d2a02bf5a62f944d7c3a6be2f5f62685a31b7abb0de0215b3afecbedc69b08e4134cc83bacccc6afd867e4fc97dd106abe06c3ff81d09d0332d34337ba4908468d39baf89e7c6bd6adc97f0537ed3a1118b94242d0e275de4e593ac19af8d0a56fc19fee00948afe323c714fe3996d03b514e3b44c14b5f573d8db8bc1d7f6db627bfdf83e8ae301a4c4e5b422bbcd0afbfa9ee0db4c652a9fcad6f0df575cc63132b34d013000489491e193247383565be5b19517a4770ebf972a584bea8dcc0f9d90afc0d578b55cd5aca6482b6c050f5d6d16e8441a8fc90db531b32ce774ad26cfa6578f5b93bc8901af84a9839a4cc0448f2c887895ba27e7af397f02cd2d410644eb48448a30ee728497729f2b70e907368e1ca7d9d486f329e9a2eeb3d5ece26d065b992ac696ca884a502b27d5aa019cb6c3daa98807faa2897607d1b2e498d6ee7ba8046f58a5205b0ef831c3011c98b6b2380e42cce3955d749392fab4e2b34e4203f353e39880e74d9cf21754d3dbedce83558bd451c3a0eeabf75041fa08743b3ae51476b9538b36e0453c31e794e5090aa83072651d36fdcb612c930cd7c8a8791f1c2019ab609031c9f8595e1f37ff1ab2b2a0ab98745e5a27a052f51cd5539f0806effbca125b0f1f103137505d25a85e9466</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Here&#39;s something encrypted, password is required to continue reading.
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>图片懒加载</title>
    <link href="https://blog.yanxlg.cn/f0e261b6/"/>
    <id>https://blog.yanxlg.cn/f0e261b6/</id>
    <published>2019-11-04T08:10:35.000Z</published>
    <updated>2020-02-27T01:44:45.741Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>随着H5页面图片资源的丰富，首屏页面加载效率受到明显限制，因此优化图片加载成为一个重要的需求，而图片的优化，除了压缩、缓存外，还有一个重要的方式是<code>懒加载</code>。本文主要介绍<code>懒加载</code>的实现方案及思路。</p><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p><code>懒加载</code>从字面看，<code>就是我比较懒，你催我要的时候我才加载，不然我就罢工休息</code>，因此主要的做法就是一开始不显示图片，在需要的时候我才加载并显示图片。什么时候才是需要的时候呢？从UI交互上讲就是图片所在的元素容器显示在viewport上的时候。因此设计方案如下：</p><h2 id="实现方案"><a href="#实现方案" class="headerlink" title="实现方案"></a>实现方案</h2><ol><li>默认情况下<code>img</code>标签不设置<code>src</code>属性，仅做占位使用。</li><li>当该<code>img</code>元素被移动到可视区域<code>viewport</code>中时设置其<code>src</code>属性为需要访问的图片地址。</li><li>图片显示后回收对该图片的监听，释放资源</li></ol><p>第一步比较简单，在js或者模板中，生成<code>img</code>时，使用<code>data-src</code>属性替代<code>src</code>属性即可，关键是第二步和第三步，如何去监听及释放。<br>从掌握的前端知识中可以发现，有两种方式可以实现上面的逻辑：</p><h2 id="方案一：Observer"><a href="#方案一：Observer" class="headerlink" title="方案一：Observer"></a>方案一：Observer</h2><p>详细了解浏览器<a href="/e4278974/" title="Observer">Observer</a>的用法，我们可以发现有一个<code>Intersection Observer</code>能够观察元素位置，同时支持取消观察的API，满足当前需求，因此可以实现为：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">data-lazyload</span> <span class="attr">data-src</span>=<span class="string">"img-1.jpg"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">data-lazyload</span> <span class="attr">data-src</span>=<span class="string">"img-2.jpg"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">data-lazyload</span> <span class="attr">data-src</span>=<span class="string">"img-3.jpg"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- more images --&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> callback = <span class="function">(<span class="params">entries, observer</span>)=&gt;</span> &#123;</span><br><span class="line">    entries.forEach(<span class="function"><span class="params">entry</span> =&gt;</span> &#123;</span><br><span class="line">        entry.target.src = entry.target.dataset.src;</span><br><span class="line">        observer.unobserve(entry.target);<span class="comment">// 取消观察</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> lazyLoadObserver = <span class="keyword">new</span> IntersectionObserver(callback);</span><br><span class="line"><span class="built_in">document</span>.querySelectorAll(<span class="string">'[data-lazyload]'</span>).forEach(<span class="function"><span class="params">img</span> =&gt;</span> &#123; lazyLoadObserver.observe(img) &#125;);</span><br></pre></td></tr></table></figure><p>到此，基本功能已经实现了，可以看到代码非常简单，配合相关的框架生成html的方式使用即可，但是经过测验会发现，图片在滚动到<code>viewport</code>中时，会存在较长时间的无图现象，对于用户感知来说，不太友好，因此需要将观察区域进行延伸，修改为如下：</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> callback = <span class="function">(<span class="params">entries, observer</span>)=&gt;</span> &#123;</span><br><span class="line">    entries.forEach(<span class="function"><span class="params">entry</span> =&gt;</span> &#123;</span><br><span class="line">        entry.target.src = entry.target.dataset.src;</span><br><span class="line">        observer.unobserve(entry.target);<span class="comment">// 取消观察</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> lazyLoadObserver = <span class="keyword">new</span> IntersectionObserver(callback,&#123;rootMargin:<span class="string">"-50px 0 -50px 0"</span>&#125;);</span><br><span class="line"><span class="built_in">document</span>.querySelectorAll(<span class="string">'[data-lazyload]'</span>).forEach(<span class="function"><span class="params">img</span> =&gt;</span> &#123; lazyLoadObserver.observe(img) &#125;);</span><br></pre></td></tr></table></figure><p>添加<code>rootMargin</code>参数，将观察区域相对于<code>root</code>进行放大，滚动时，当图片元素具体可视区域上或者下50px的位置时即可触发观察回调，此时立即进行图片加载，在一定的程度上，当用户将该图片滚动到可视区域中时，可能已经加载完成；具体的偏移值需要根据图片服务情况及用户网络情况确定。<br>将上述代码用于项目中会发现，部分环境<code>IntersectionObserver</code>报错，这是由于兼容性造成，<a href="/e4278974/" title="Observer">Observer</a>中详细介绍了其兼容性并提供了<code>polyfill</code>方案，其<code>polyfill</code>和下面第二种方案类似。</p><h2 id="方案二：onscroll-getComputedStyle"><a href="#方案二：onscroll-getComputedStyle" class="headerlink" title="方案二：onscroll + getComputedStyle"></a>方案二：onscroll + getComputedStyle</h2><p>传统js中判断元素与可视区域之间的位置关系用<code>getBoundingClientRect</code>API 来实现，因此，我们可以使用<code>轮询判断</code>的方式去进行元素探测，使用<code>onscroll</code>+<code>getBoundingClientRect</code>实现该功能：</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> imgs = <span class="built_in">document</span>.querySelectorAll(<span class="string">'[data-lazyload]'</span>);</span><br><span class="line"><span class="keyword">const</span> callback = <span class="function"><span class="params">()</span>=&gt;</span> &#123;</span><br><span class="line">    imgs.forEach(<span class="function">(<span class="params">img:HTMLImageElement</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(!img.src)&#123;</span><br><span class="line">            <span class="keyword">const</span> position = img.getBoundingClientRect();</span><br><span class="line">            <span class="keyword">if</span>(position.bottom&gt;=<span class="number">-50</span>||position&lt;=<span class="built_in">window</span>.innerHeight+<span class="number">50</span>)&#123;</span><br><span class="line">                img.src = img.dataset.src;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"scroll"</span>,callback);</span><br></pre></td></tr></table></figure><p>代码相当简单，但是<code>并不实用</code>，主要存在以下问题：<br>    - <code>onscroll</code>触发太过频繁，每次触发都去进行dom List的遍历，开销很大<br>    - <code>getBoundingClientRect</code>容易造成浏览器重绘<br>    - <code>onscroll</code>在IOS中并不会频繁触发，只在开始和结束触发一次</p><p>根据以上问题，需要对此进行优化：<br>    - 通过<code>throttle</code>或<code>debounce</code>优化<code>onscroll</code>的频繁触发<br>    - 当<code>onscroll</code>触发不正常时，即判断IOS环境，使用<code>requestAnimationFrame</code>无限轮询代替<code>onscroll</code><br>优化代码此处不作提现，经过上面的优化，该方案可用性才明显提升。</p><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><ul><li>image 初始不要设置src属性，即使设置为<code>&quot;&quot;</code>或者<code>undefined</code>也不要，可能会造成重复载入，不同浏览器行为不一致</li></ul><h2 id="其他优化"><a href="#其他优化" class="headerlink" title="其他优化"></a>其他优化</h2><ul><li>通过滚动距离进行节流</li><li>滚动暂停时才开始触发探测回调</li></ul><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>常见的一下lazyload插件主要采用的是方案二的方式，只是或多或少在此基础上做了进一步优化，但是其效率仍然比不上方案一，建议使用方案一，实在不兼容的情况下使用方案二。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;随着H5页面图片资源的丰富，首屏页面加载效率受到明显限制，因此优化图片加载成为一个重要的需求，而图片的优化，除了压缩、缓存外，还有一个重要的
      
    
    </summary>
    
    
      <category term="h5" scheme="https://blog.yanxlg.cn/categories/h5/"/>
    
      <category term="lib" scheme="https://blog.yanxlg.cn/categories/h5/lib/"/>
    
    
      <category term="h5" scheme="https://blog.yanxlg.cn/tags/h5/"/>
    
      <category term="lib" scheme="https://blog.yanxlg.cn/tags/lib/"/>
    
      <category term="lazyload" scheme="https://blog.yanxlg.cn/tags/lazyload/"/>
    
  </entry>
  
  <entry>
    <title>前端埋点实现</title>
    <link href="https://blog.yanxlg.cn/8e6ad7f6/"/>
    <id>https://blog.yanxlg.cn/8e6ad7f6/</id>
    <published>2019-11-04T05:41:54.000Z</published>
    <updated>2020-05-12T10:12:17.309Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="密码错误，请输入正确的密码." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">本文暂不开放，需要密码才可阅读.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="96cbead502dcd47c34223d83f69c780d0529a3bfb32915325f8d3db969675f76">640bbc83c3d2118e2d9ab6cb0d84d75cc1f99989018ea69d617cb7da84144a356de7b98f14e20b94318bcd9dd68ce28ee7feba4952cd534cfdea93c44aba537c1b61ff712b4350bb20e3069760333a1ccb7a24dd5c27cbf29baf831e51c390e97649c3454aed119157cf1c4f80c965b0a35233806d3740dae194b76de08f24be604ac43251ae852ae3374b154ccafbc8707f5dd7eae4869bc91b18f07fb47853349da07782a1e5d8fe90834704c76cb957d37d8fe9bf590e5d289d7f9fc3fbd32122aa00fba6ccfd8ae44cdd60bea6ca2ef958d7668a7bc5f6783602bf6f1ba4d1a08c9e8080d632f2fa3fd3eb08170f73719f9d36ca5d918241da7a15abedf90f1f61af1d312a1b139ecc8937cf87b49cac6e561f34d13c17a948f9979b080ea746e97a4193507915c0ef4e8873ffdd1701e34475a891f495f1cc25cd303f3b16a39c473976dfc559b5593495405a09</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Here&#39;s something encrypted, password is required to continue reading.
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Tree Structure</title>
    <link href="https://blog.yanxlg.cn/e06277db/"/>
    <id>https://blog.yanxlg.cn/e06277db/</id>
    <published>2019-11-04T03:25:35.000Z</published>
    <updated>2020-02-27T01:44:45.740Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
      <category term="h5" scheme="https://blog.yanxlg.cn/categories/h5/"/>
    
      <category term="data structure" scheme="https://blog.yanxlg.cn/categories/h5/data-structure/"/>
    
    
      <category term="data structure" scheme="https://blog.yanxlg.cn/tags/data-structure/"/>
    
      <category term="algorithm" scheme="https://blog.yanxlg.cn/tags/algorithm/"/>
    
  </entry>
  
  <entry>
    <title>Babel</title>
    <link href="https://blog.yanxlg.cn/7056c18d/"/>
    <id>https://blog.yanxlg.cn/7056c18d/</id>
    <published>2019-11-04T02:38:39.000Z</published>
    <updated>2020-05-12T10:12:00.925Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="密码错误，请输入正确的密码." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">本文暂不开放，需要密码才可阅读.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="3c096ca89b65d78527ec9495674f119f0e6db4c9ce16304505cb161e0347d75d">19b62e44b0797489d08ffe84a9ee044b876eb51016c21e05ccc8a35518b4ca21d1b2039b045a1779bb5ae18652df1ab58d65b62e8a93ac227e08f4c1708ce4cbfc72e1600fefbc2c8756936e94cf79990cedee46a69732b257e8150f468a7c581dc04d1e8d69242ddd34d005398b9723329a57d8f8a8459b8cc6a667f711ba474ab06a2c763e317902158df6364ea027a78b60efcf6a3f1258113ef9772b76ddac03ea7b01ded5c106f69cd7c490a62afffa249368d2838b8d04ffb360f195a36dc8ef93452d31ab5b459c6ca14aed9f</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Here&#39;s something encrypted, password is required to continue reading.
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>跨窗口通信</title>
    <link href="https://blog.yanxlg.cn/aefa6556/"/>
    <id>https://blog.yanxlg.cn/aefa6556/</id>
    <published>2019-10-30T06:07:41.000Z</published>
    <updated>2020-05-12T10:13:26.991Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="密码错误，请输入正确的密码." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">本文暂不开放，需要密码才可阅读.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="383fb8f2ea5171219c3bf81b75a9c3ce1209c6e8117fbac3aa9ed296541e2360">efa047241e971872ecd0778527c664b1</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Here&#39;s something encrypted, password is required to continue reading.
    
    </summary>
    
    
      <category term="h5" scheme="https://blog.yanxlg.cn/categories/h5/"/>
    
    
      <category term="h5" scheme="https://blog.yanxlg.cn/tags/h5/"/>
    
      <category term="cross window" scheme="https://blog.yanxlg.cn/tags/cross-window/"/>
    
  </entry>
  
  <entry>
    <title>ReactNative Optimize</title>
    <link href="https://blog.yanxlg.cn/42d065b1/"/>
    <id>https://blog.yanxlg.cn/42d065b1/</id>
    <published>2019-10-19T07:00:12.000Z</published>
    <updated>2020-05-10T10:01:03.102Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="密码错误，请输入正确的密码." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">本文暂不开放，需要密码才可阅读.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="c67df3ee62dd70e98a75594795a0cd91f626a247e96e6e8c29e237387ae8b047">1132c4da53fb639251af4f858a286b0fbe88544abdc91b628040177973ccac5885859f364783a3ba5312a85a81b873a39fb25c0c0d195bbcccd80d7442a110826dd4a2d0d8f071c69fcafb82bd292217075fd7caf4a734db3b0f41af874a9c7dfa277a724a145d83e823621e33ac8712fec1862b1e41c847f8e98d65a6823438afaab3f94efa90b885de0ada4ed88f23cd9187ca82f3ca2cbb7c1a49e6f8120dae2ef9514a331af94c46732110e4f5062f2d4fe9bb9b0b98580f29159f78cbf88f4367f51a08316d945015c5eac9830db43b8ecf464cc66152b9e5d5b77507b47d4865dd3c6d1cdd00d4983fed0250fb083529c71f5221dcd5d032774806cfcd90e535536cf37595288e95deb44e427c3d4f89b61959423820146eb2014a5a973c336b9043cca2e0e9df9b769d7dfbfa9f587933e31a4b6bce3b10094c51f95de54fe1867e0d7cc3784bdfecb9537f5610634457bf42f696c20ae0fcee28129252e942ae4c4c76ec05711f5920ad14722e2684d76333027fc84c34bafa84511b3a1053df68c504acfd13e8d03c150725698777724c612a3790100a4d2aada296</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Here&#39;s something encrypted, password is required to continue reading.
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>H5 Optimize</title>
    <link href="https://blog.yanxlg.cn/752103c2/"/>
    <id>https://blog.yanxlg.cn/752103c2/</id>
    <published>2019-09-26T14:04:02.000Z</published>
    <updated>2020-05-12T10:14:35.291Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="密码错误，请输入正确的密码." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">本文暂不开放，需要密码才可阅读.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="f1b2e2e607fa2ef23bddb5b49e533106a0e7daac94fb36a2bf934d504c96c68e">438c88f0c986d8007b997251449e73d170313c132f48e308e93a60b279e4ca2df2da5f9ad2e32f2a99958bad8dba46f79ee6603f7b3805538db8e3fd55d73445eaf6e99abfe96fb2c387606152e10721190253a4ad6b22bc78c08be454ed51dcf037c654dea43162f51d21235a0c665ff0b776d8cf1903c7eadd32f0df9cf9edc92e9b9c758c86693d97c13d8da1d52bbce857e8af4f9fd9c63275ec9a2db68063744be9b4074cf6e3b81e93c64572b42a3eaf4c2b7a0951a758851d111a624c0ef66f1df865cabe0842e2adaee0eafa3c92ddeb55233e672cbea39eeded15c287df38f916cbf1e1b0b5f239bbb275d0eb8ad7e6674ce191c1ae0152f52274049cf9613293d0e988223733530ad5e58e10bfa71b468d59e6d270a538959f3e42b0ace6344d348f69101f5cae12c99ade09cff293ead414fbcd920dcdb8a1406a932a92ba9cc23dfe00b847c62d3a65420a73f9ffe936742d68828435c0deef8e1cfad11822949bd3250e7bde251bc0c91d6ed92c579f68bbeaba5b88c73b7d32f0d7dd12a0c6933e5f0613023405fb44266f21e5b911a4f4060054b089f2e1a90eac1f0143667dcb35f02292fcdec3f2c155c4831fea4d3fdb6d4974b916cc481eb95a4bb3dc897295800f6725c96e142f0caee4e41ffe53d3f22dd8417e242562d09baf789410d834d86dfb943c88cd7192b4696186e83b6e393f9818c36b4bd88b127ed5392e5dfadb2f17718611cab855ca4850f07cc51f59d64cad2f02718f2e24f71beb2289cf988df13b58fbf00864961276d92c3507bd82eac1bc082a13b1c211e36b51823401a406af5e4f9d4bcf6f8831fa33f76b576e738ae28ae348f4facc550e6787af7bb81c0d55c18cd4eba6b7867a9fedd1e7b8ade5c67fde907e79c8e2449f1ba94b8ced5b982494fbba1267562198cd27d8e953556961d816933fb691fb6a7b8675a46021c723ea668e14a6f3f47ad8189a1805c9a4370f2a6958ed7875487cd3f4992f72dc65f72c1d129b41b8e9cd732993f47e0768d5dfb791f5499f9bc4c10b2ff632b1656a392717f131e2b2cb9e56c2ba9f57c5148c4e07dea655637806ad2c8f69afa2333ffd002910d3abfd1e0bdb2b70babede12cce02f1d38a18dd9ff2818b4a683f22dbb4adcbc0bde5a154031e4d1c76b1f0f57d4e7828747872a920604ab63a2e11bc68b1421212819ccb4b3635991b2f661889df1c2a0d42a92687b8dd447e34d1569ca020b87766c8e7c95d8524d6459f5cfeb4a214df8acc6bba63dd78525d3387ef4c06113af36b3997f87da004875a8b3e0e559d0ed3f846b16c7618f6a1ab6a8c3954cf8fead14a017905dd734c8a46e6e151491415e1ff3f75d160bf029fb869116844730dfaa9819ecde471b7300b8e6903fae0603a22a8f8891595b7b32b64bafdf0188bfa75494509ee6f47bf8bdee4f6b9679f46d9fe59227bbafd3efbc04e17e2795e054f3d442cb1c1d8581cdef2cdc631a1308ad2f0068028a0f33efdde9a3067622787e02f946b3b420b121fc752bc5839311a9255240bf5eabbdd0805f767045cf256d46a7434fb776b19abff1b88a041f3b4dc97bf64fbb9f6fa458f83c9cbd7e1d8ebc30824eef516296e2bf4447af8ad2760ea9faf91a5accfe0e8fe0b80e41e73f7732e6749da01f06d8725549b4a046709ccf7eb67470a7ce26fb0055afc858894017cb1a98636685ad50f78c290d43860c58ec61a5b10b967ce437be6d1b1217fed64fd061789effba70b7f4e8e011f992b38d30e3b3aba1a6f4d8cd7136621d7577cf347f905495de19e6b6023db86abd261e886df51aa3333806bf1866c68cb830bc743af1cd4cf36559eb5d5fcc7fad74d9b403162dcce9a746c6d273fd11353654b9a6012bc27bab486914e232c5a29d4b23acd6a31b0f8583fd2ee9db31e217f3eb8e6f82e0d6e827ee10fdd4040a6c2a7931ebdabcd697f9d4a92ccd1cab6563c9b4083688d60e1a1d964f6bf16ca70ded46f39a54143bd47e6b0e9e2577fbc2e64a2ff251de4500b716d5eed97a9136cbec9f</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Here&#39;s something encrypted, password is required to continue reading.
    
    </summary>
    
    
      <category term="h5" scheme="https://blog.yanxlg.cn/categories/h5/"/>
    
    
  </entry>
  
  <entry>
    <title>React Hooks</title>
    <link href="https://blog.yanxlg.cn/c72f21a0/"/>
    <id>https://blog.yanxlg.cn/c72f21a0/</id>
    <published>2019-09-20T05:20:41.000Z</published>
    <updated>2020-05-25T11:59:17.758Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>React随着16版函数式组件的推广，hooks的概念也越来越普及，其实钩子函数在React中一直存在，只是以前不对外使用，React在底层每个生命周期都有前置钩子和后置钩子，因此hooks在React中尤为重要。</p><h2 id="Hooks"><a href="#Hooks" class="headerlink" title="Hooks"></a>Hooks</h2><ul><li><p>useContext：用于和React中的Context特性配合使用，可以直接在函数式组件中绑定Context的值，并订阅更新</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> GlobalContext = React.createContext&lt;IGlobalContext&gt;(<span class="literal">null</span>);</span><br><span class="line"><span class="keyword">const</span> GlobalContextProvider: React.FC = <span class="function"><span class="params">props</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> contextRef = useRef(<span class="literal">null</span>);</span><br><span class="line">    <span class="keyword">const</span> [context, _setContext] = useState&lt;IGlobalContext[<span class="string">'context'</span>]&gt;(&#123;</span><br><span class="line">        <span class="attr">age</span>: <span class="number">0</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        contextRef.current = context;</span><br><span class="line">    &#125;, [context]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> setContext = useCallback(<span class="function">(<span class="params">ctx: Partial&lt;IGlobalContext[<span class="string">'context'</span>]&gt;</span>) =&gt;</span> &#123;</span><br><span class="line">        _setContext(&#123;</span><br><span class="line">            ...contextRef.current,</span><br><span class="line">            ...ctx,</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;, []);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> setAge = useCallback(<span class="function"><span class="params">age</span> =&gt;</span> &#123;</span><br><span class="line">        setContext(&#123;</span><br><span class="line">            <span class="attr">age</span>: age,</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;, []);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> wrapChild = useMemo(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> props.children;</span><br><span class="line">    &#125;, [props]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> useMemo(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="xml"><span class="tag">&lt;<span class="name">GlobalContext.Provider</span> <span class="attr">value</span>=<span class="string">&#123;&#123;</span> <span class="attr">context</span>, <span class="attr">setContext</span>, <span class="attr">setAge</span> &#125;&#125;&gt;</span></span><br><span class="line">                &#123;wrapChild&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">GlobalContext.Provider</span>&gt;</span></span></span><br><span class="line">        );</span><br><span class="line">    &#125;, [props, context]);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; GlobalContext, GlobalContextProvider &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 父容器，Context需要在Provider中才生效，具体Context此处不做详细介绍</span></span><br><span class="line"><span class="keyword">const</span> WrapIndex = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">GlobalContextProvider</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Component</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">GlobalContextProvider</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 组件中使用</span></span><br><span class="line"><span class="keyword">const</span> Component=<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;age,setAge&#125; = useContext(GlobalContext);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>useState：state管理，可以复合对象，可以扁平化，但是要<code>注意性能影响</code>，异步中多个setState同时调用会触发多次render，需要配合useMemo、useEffect等节流hooks优化或者使用useRef优化，需要了解React State更新合并机制</p>  <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [&#123;name,age&#125;,setAllState] = useState(&#123;name:<span class="string">"Wang"</span>,age:<span class="number">1</span>&#125;);<span class="comment">// 复合数据管理可以在一定成都上有效控制重复render问题，扁平化管理在于代码简单，但是需要额外的优化控制</span></span><br></pre></td></tr></table></figure></li><li><p>useReducer：生成一个简易Redux</p>  <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initialState = &#123;</span><br><span class="line">    additionalPrice: <span class="number">0</span>,</span><br><span class="line">    car: &#123;</span><br><span class="line">        price: <span class="number">26395</span>,</span><br><span class="line">        name: <span class="string">"2019 Ford Mustang"</span>,</span><br><span class="line">        image: <span class="string">"https://cdn.motor1.com/images/mgl/0AN2V/s1/2019-ford-mustang-bullitt.jpg"</span>,</span><br><span class="line">        features: []</span><br><span class="line">    &#125;,</span><br><span class="line">    store: [</span><br><span class="line">        &#123; id: <span class="number">1</span>, name: <span class="string">"V-6 engine"</span>, price: <span class="number">1500</span> &#125;,</span><br><span class="line">        &#123; id: <span class="number">2</span>, name: <span class="string">"Racing detail package"</span>, price: <span class="number">1500</span> &#125;,</span><br><span class="line">        &#123; id: <span class="number">3</span>, name: <span class="string">"Premium sound system"</span>, price: <span class="number">500</span> &#125;,</span><br><span class="line">        &#123; id: <span class="number">4</span>, name: <span class="string">"Rear spoiler"</span>, price: <span class="number">250</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> reducer = <span class="function">(<span class="params">state, action</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"REMOVE_ITEM"</span>:</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            ...state,</span><br><span class="line">            additionalPrice: state.additionalPrice - action.item.price,</span><br><span class="line">            car: &#123; ...state.car, features: state.car.features.filter(<span class="function">(<span class="params">x</span>) =&gt;</span> x.id !== action.item.id)&#125;,</span><br><span class="line">            store: [...state.store, action.item]</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"BUY_ITEM"</span>:</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            ...state,</span><br><span class="line">            additionalPrice: state.additionalPrice + action.item.price,</span><br><span class="line">            car: &#123; ...state.car, features: [...state.car.features, action.item] &#125;,</span><br><span class="line">            store: state.store.filter(<span class="function">(<span class="params">x</span>) =&gt;</span> x.id !== action.item.id)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">return</span> state;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 组件中使用</span></span><br><span class="line"><span class="keyword">const</span> Component = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> [state, dispatch] = useReducer(reducer, initialState);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 读取值：state.additionalPrice === 0</span></span><br><span class="line">    <span class="comment">// 触发action</span></span><br><span class="line">    dispatch(&#123; <span class="keyword">type</span>: <span class="string">'BUY_ITEM'</span>, &#123;&#125; &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>useRef：创建Ref引用，仅初始化一次，相当于在函数中定义了<code>一个不会重新初始化的变量</code>。该特性经常被用到，能有效解决变量存储问题，不被用于触发render的数据通常使用useRef来存储，避免触发render</p>  <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dataRef = useRef(&#123;&#125;);<span class="comment">// 初始值为空对象</span></span><br><span class="line"><span class="comment">// 取值</span></span><br><span class="line">dataRef.current;</span><br></pre></td></tr></table></figure></li><li><p>useLayoutEffect：与<code>useEffect</code>具有相似的功能，具体用法参考<a href="#useEffect">useEffect</a>；但是又有区别，在类组件中<code>componentDidMount</code>和<code>componentDidUpdate</code>是同步触发的，在render结束后就执行，会阻塞浏览器painting，因此在类组件这两个生命周期中直接操作DOM不会出现DOM闪烁现象。而<code>useEffect</code>是异步触发的，并不会阻塞浏览器painting，为了分离js与渲染线程来提升性能，因此在<code>useEffect</code>中进行DOM操作会出现DOM闪烁，通常不会用到该Hook，React中不推荐去直接操作DOM，使用动画库除外。需要注意以下2点：</p><ol><li><code>useLayoutEffect</code>在时间线上，触发优先与<code>useEffect</code>，具体的是在虚拟dom diff完成后并将更新属性更新到到真实DOM上后立即执行，此时浏览器还没有渲染绘制，会被js线程阻塞，此时直接修改DOM样式不会出现闪烁现象，而<code>useEffect</code>是使用<code>requestIdleCallback</code>创建的异步callback，如果在<code>useEffect</code>修改样式的话会出现样式突变闪烁现象</li><li><code>useLayoutEffect</code>中可以覆盖state控制的样式属性等，如果样式属性受state控制，那么<code>useLayoutEffect</code>会在每次样式改变后立即执行，看下面例子<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Test = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> [left, setLeft] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    useLayoutEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (left) &#123;</span><br><span class="line">            <span class="comment">// @ts-ignore</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">document</span>.getElementById(<span class="string">'test'</span>).style.left);</span><br><span class="line">            <span class="comment">// @ts-ignore</span></span><br><span class="line">            <span class="built_in">document</span>.getElementById(<span class="string">'test'</span>).style.left = <span class="string">'1000px'</span>;</span><br><span class="line">            <span class="comment">// @ts-ignore</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">document</span>.getElementById(<span class="string">'test'</span>).style.left);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, [left]);</span><br><span class="line"></span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        setLeft(<span class="number">10</span>);</span><br><span class="line">    &#125;, <span class="number">5000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div</span><br><span class="line">            id=<span class="string">"test"</span></span><br><span class="line">            style=&#123;&#123;</span><br><span class="line">                position: <span class="string">'absolute'</span>,</span><br><span class="line">                left: left,</span><br><span class="line">                width: <span class="number">100</span>,</span><br><span class="line">                height: <span class="number">100</span>,</span><br><span class="line">                backgroundColor: <span class="string">'red'</span>,</span><br><span class="line">            &#125;&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">    );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ==&gt;</span></span><br><span class="line"><span class="comment">// 10px</span></span><br><span class="line"><span class="comment">// 1000px</span></span><br></pre></td></tr></table></figure>最终结果可以看出，<code>useLayoutEffect</code>在state基础上强制修改了dom的样式，并最终覆盖，可以看出是state更新优先，<code>useLayoutEffect</code>修改在render之后，同时可以观察到元素没有发生闪烁，位置直接从0变成了1000，并没有先变成10再变成1000，因此可以看出<code>useLayoutEffect</code>是同步并阻塞浏览器绘制，通常DOM操作和动画会考虑放在其中实现。</li></ol></li><li><p><span id="useEffect">useEffect</span></p><ol><li>触发场景：<ul><li>在组件render之后异步触发，不会阻塞浏览器painting，</li><li>组件卸载前执行<code>清除副作用</code>，与依赖数组无关</li></ul></li><li>参数：<ul><li>第一个参数是执行函数，可以返回副作用清除函数（例如事件绑定，定时器等等清除）</li><li>第二个参数配置依赖数组，如果配置了依赖数组，仅当数组中值发生变化时才会触发当前Effect。</li></ul></li><li>机制：<ul><li>副作用清除是在新的useEffect执行时调用上一次的useEffect副作用清除</li><li>组件卸载前仅执行副作用清除函数</li></ul></li></ol></li><li><p>useImperativeHandle：声明函数式组件<code>ref</code>实例，在类组件中，ref可以访问类组件的成员方法，而在函数式组件中需要通过该Hook声明<code>ref</code>实例</p>  <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Component = <span class="function">(<span class="params">props: ComponentPropsType, ref: Ref&lt;ComponentRefType&gt;</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> [value,setValue] = useState(<span class="number">0</span>);</span><br><span class="line">    useImperativeHandle(</span><br><span class="line">        ref,</span><br><span class="line">        <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                setValue: <span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">                    setValue(value);</span><br><span class="line">                &#125;,</span><br><span class="line">                getValue:<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> value;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">        [value],</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> React.forwardRef(Component);</span><br></pre></td></tr></table></figure><ol><li>参数：<ul><li>第一个参数：ref引用</li><li>第二个参数：ref实例工厂函数</li><li>依赖，内部使用到的动态状态值需要添加到依赖中，不然只会访问初始值。</li></ul></li><li>组件需要使用<code>React.forwardRef</code>包裹</li></ol></li><li><p>useCallback：函数生成器，常规的函数写法在每次组件更新时都重新生成一个新的函数，useCallback会记录原函数，如果依赖参数没有变化则不会重新创建函数，直接返回原有函数，减少创建消耗，但在js中其实创建消耗很小，再加上使用useCallback会存在检测依赖过程，优化结果不明显，可用可不用，但是推荐使用，在函数体较大时还是有优势的</p></li><li><p>useMemo：[<code>常用Hook</code>]，常用于控制代码是否执行，或是否重新渲染</p><ol><li>最常规用法，用于控制组件render，当deps不发生变化时不会重新render，直接返回原有虚拟节点 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Component = <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> useMemo(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &#125;,[]);<span class="comment">// 仅执行一次render</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>延伸用法（业务部分）,可以实现在渲染前根据条件进行一些处理，相对于不用useMemo可以进行deps比较，类似于React@16-中类组件的<code>componentWillReceiveProps</code>声明周期及16+中<code>getDerivedStateFromProps</code>静态声明周期，用来判断前后状态修改并执行相关操作，不同于<code>useEffect</code>的是该Hooks触发于render之前 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Component = <span class="function">(<span class="params">&#123;&#125;:ComponentProps</span>)=&gt;</span>&#123;</span><br><span class="line">    useMemo(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;,[]);</span><br><span class="line">    <span class="keyword">return</span> useMemo(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &#125;,[]);<span class="comment">// 仅执行一次render</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></li><li><p>useDebugValue：用于将label显示在React 调试工具<code>DevTools</code>中，调试用，编译会自动忽略</p></li><li><p>useResponder：<code>[实验性Hook]</code>功能目前不明</p></li><li><p>useDeferredValue：<code>[实验性Hook]</code>跟<code>useTransition</code>类似，也是延迟更新作用，相当于在新数据准备好之前，可以继续沿用旧数据，如果配置时间内新数据来了，（从旧内容切换到）显示新内容，否则立即更新状态，该 loading 就 loading，即预加载。</p></li><li><p>useTransition：<code>[实验性Hook]</code>延迟操作，通常用于延迟更新，例如loading效果，如果速度极快时loading会一闪而过，这种场景可以使用useTransition来延迟更新loading状态，如果极快时不会显示loading</p></li><li><p>useMutableSource：<code>[实验性Hook]</code>不依赖Context，构建全局状态管理，目前全局状态仅可通过Context来管理，新版的redux本质上也是context</p></li><li><p>useOpaqueIdentifier：<code>[实验性Hook]</code>功能目前不明</p></li></ul><h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>Hooks用法比较简单，原理也需要做相应了解，一般面试可能会涉及到相关知识</p><ul><li><p>Hooks与组件的关系：React在渲染时会生成一个虚拟节点树（JSON，现在为Fiber链表），一个组件中所有的Hooks信息（称之为<code>memoizedState链表</code>）会存储对应组件Fibber节点上，跟组件生命周期关联，一同创建，一同销毁。</p></li><li><p>Hooks存储方式：单向链表，Rect中目前链表结构使用比较频繁，某些方面类似于数组，有些人在手写React源码时会用数组方式实现，其实并不正确，单向链表没有索引，仅存在游标，通过游标及next可以遍历整个链表，与数组相似的地方在于都是可遍历结构，不同的地方是数组可以根据索引获取任意位置的值，单向链表从HEAD开始仅能向下</p></li><li><p>Hooks 阶段：<code>mount</code>和<code>update</code>，分别对应组件创建和更新不同生命周期，在<code>mount</code>阶段创建链表节点并添加到Fiber节点属性上，在<code>update</code>阶段主要判断deps，更新链表值，返回原有值或新值。</p></li><li><p>Hooks不能嵌套在<code>if语句</code>、<code>for语句</code>、<code>子函数</code>等不定语句中的原因：<code>memoizedState链表</code> 是按hook定义的顺序来生成数据链的，且仅在<code>mount</code>阶段生成一次，后续<code>update</code>阶段并不会重新初始化<code>memoizedState链表</code>，仅会从链表中通过游标cursor按个返回现有状态，所以如果Hooks顺序变化或者数量变化，<code>memoizedState</code>并不会感知到，也不能去更新。</p></li><li><p><code>&quot;Capture Value&quot;</code> 特性是如何产生的：<code>&quot;Capture Value&quot;</code>特性就是通常说的状态记忆特性，对于deps未发生变化的Hooks，在update阶段会返回原有的callback或者useMemo结果并不会返回新传入的callback，因此useCallback调用时还是调用的原方法，原方法的作用域下所有变量都是原状态（除<code>useRef</code>引用外，因此通常也用useRef来存储变量，提升性能），因此形成了状态记忆。主要原因是函数作用域，并不是闭包。</p></li><li><p>自定义的 Hook 是如何影响使用它的函数组件的：自定义Hooks其实本质上就是一个函数，在执行时内部Hooks跟组件共用一个<code>memoizedState链表</code></p></li><li><p>链表节点上属性介绍</p><ul><li>memoizedState：最新值</li><li>baseQueue：稳定值，如果最新值render时抛出异常，即会使用该稳定值进行数据回溯，防止页面崩溃</li><li>naxt：链表指针，只想下一个链表节点</li></ul></li><li><p>setState第二个解构值是更新队列的一个dispatch方法，更新队列本文不做介绍</p></li><li><p>简单图解</p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="/c72f21a0/mount.png" class="img-left" title="mount阶段"><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="/c72f21a0/update.png" class="img-left" title="update阶段"></li><li><p><code>updateQueue</code>简单介绍</p><ol><li>生命周期：<code>updateQuene</code>是挂在在<code>memoizedState链表</code>中的一个子单向循环链表，生命周期跟hook链表节点等同，链表节点mount阶段创建，意味着不同的组件实例不会复用，组件释放时被释放回收。</li><li>属性<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> UpdateQueue&lt;S, A&gt; = &#123;</span><br><span class="line">    pending: Update&lt;S, A&gt; | <span class="literal">null</span>,<span class="comment">// 循环单向链表</span></span><br><span class="line">    dispatch: (<span class="function"><span class="params">A</span> =&gt;</span> mixed) | <span class="literal">null</span>,</span><br><span class="line">    lastRenderedReducer: <span class="function">(<span class="params">(<span class="params">S, A</span>) =&gt; S</span>) | <span class="params">null</span>,// 缓存最新的<span class="params">reducer</span></span><br><span class="line">    <span class="params">lastRenderedState</span>: <span class="params">S</span> | <span class="params">null</span>,// 最新值缓存，跟<span class="params">hook</span>.<span class="params">memoizedState</span>基本一样</span><br><span class="line">&#125;;</span></span><br></pre></td></tr></table></figure></li><li>循环的作用：<code>updateQuene</code>组成闭合循环，是为了更新时<code>do...while</code>中判断结束标志</li><li><code>updateQueue</code>回收：pending属性相当于游标，每次更新会将队列中可同时更新的通过<code>do while</code>进行合并同时更新，同时置空pending，<code>清空</code>队列</li><li>回收原理：涉及到链表数据结构特点，链表就是一群对象，然后相互引用，<code>updateQueue</code>设置pending=null之后引用断开，后面对象都是不被引用的无效对象，下次gc时会自动回收</li><li>具体逻辑参考下图<img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="/c72f21a0/setState.png" class="img-left" title="setState调用"><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="/c72f21a0/getState.png" class="img-left" title="useState获取"></li></ol></li></ul><h2 id="优化注意"><a href="#优化注意" class="headerlink" title="优化注意"></a>优化注意</h2><ol><li>State合并：很多时候一个组件中需要使用多个useState来分别存储不同的状态管理，但是需要注意React的setState触发render机制<a href="/dee17c46/" title="React底层原理分析">React底层原理分析</a>，在同步函数中如果多次调用setState则只会触发一次render，如果在异步中多次调用则触发n次render ,因此针对代码中出现的异步中多次setState的现象需要进行合并，合并总体方法就是较少useState的使用，或者render使用useMemo节流；<ol><li>useState通过复合对象统一管理组件的所有状态 <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, setState] = useState(&#123;</span><br><span class="line">    total: <span class="number">0</span>,</span><br><span class="line">    list: []</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li>通过<code>useRef</code>存储数据，useState控制render的触发 <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> listRef = useRef([]);</span><br><span class="line"><span class="keyword">const</span> totalRef = useRef(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">const</span> [loading, setLoading] = useState(<span class="literal">false</span>);<span class="comment">// 控制render的进行</span></span><br><span class="line"></span><br><span class="line">useEffect(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    setLoading(<span class="literal">true</span>);</span><br><span class="line">    <span class="comment">// 异步中处理</span></span><br><span class="line">    <span class="built_in">Promise</span>().then(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        listRef.current = [...list];</span><br><span class="line">        totalRef.current = <span class="number">10</span>;</span><br><span class="line">        setLoading(<span class="literal">false</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,[]);</span><br></pre></td></tr></table></figure></li><li>通过<code>useMemo</code>节流：需要注意useMemo的deps选择，应该选异步中最后一个setState的变量，否则在render时取到的total值会是错误的，该方式会触发组件函数重新执行，仅不会触发render，因此该方法相对于上面两种较差 <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [list, setList] = useState([]);</span><br><span class="line"><span class="keyword">const</span> [total, setTotal] = useState([]);</span><br><span class="line">useEffect(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// 异步中处理</span></span><br><span class="line">    <span class="built_in">Promise</span>().then(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        setTotal(<span class="number">10</span>);</span><br><span class="line">        setList([...list]);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,[]);</span><br><span class="line"><span class="keyword">return</span> useMemo(<span class="function"><span class="params">()</span>=&gt;</span>&#123;&#125;,[list]);<span class="comment">// 仅当list更改后才会render，与total无关</span></span><br></pre></td></tr></table></figure></li></ol></li><li>请求优化：目前前端流行的请求库如axios,umi-request都带有cancel功能，可以直接取消请求，而fetch最初计划基于Promise提供的cancel去实现请求cancel，后来因某些原因Promise的cancel一直未提供，因此有了不支持cancel这一败笔；目前前端基本不直接使用fetch，而是使用axios或umi-request，对于请求，前端合理的操作是页面加载时调用请求，如果页面卸载则取消对应请求，节省带宽，提升性能，并较少React中setState造成的已卸载组件不合理render。对于卸载组件render问题大部分都是在组件卸载前将setState方法置成空方法，而在函数式组件中可以使用自定义Hook实现请求回收<ol><li>基于请求库封装实现一个可以cancel的请求创建类 <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Fetch&#123;</span><br><span class="line">    <span class="keyword">public</span> cancel()&#123;</span><br><span class="line">        <span class="comment">// cancel该实例发送的所有请求</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">get</span>(...args)&#123;&#125;</span><br><span class="line">    <span class="keyword">public</span> post(...args)&#123;&#125;</span><br><span class="line">    <span class="keyword">public</span> put(...args)&#123;&#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>自定义Hooks-&gt;useFetch <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useFetch</span>(<span class="params">clean=<span class="literal">true</span></span>)</span>&#123;<span class="comment">// 配置clean参数，支持不清空</span></span><br><span class="line">    <span class="keyword">const</span> fetchRef = useRef&lt;Fetch&gt;(<span class="keyword">new</span> Fetch());</span><br><span class="line">    useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// 组件卸载时执行的clean副作用</span></span><br><span class="line">            clean &amp;&amp; fetchRef.current.cancel();</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;, []);</span><br><span class="line">    <span class="keyword">return</span> [fetchRef.current];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>组件中使用 <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Component = <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> [fetch] = useFetch();</span><br><span class="line"></span><br><span class="line">    useEffect(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        getDataService(fetch).then(<span class="function"><span class="params">()</span>=&gt;</span>&#123;&#125;);<span class="comment">// 将fetch实例传递给service，service需要从外部接收fetch实例，将service与组件关联</span></span><br><span class="line">    &#125;,[]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;React随着16版函数式组件的推广，hooks的概念也越来越普及，其实钩子函数在React中一直存在，只是以前不对外使用，React在底层
      
    
    </summary>
    
    
      <category term="react" scheme="https://blog.yanxlg.cn/categories/react/"/>
    
    
      <category term="hooks" scheme="https://blog.yanxlg.cn/tags/hooks/"/>
    
  </entry>
  
  <entry>
    <title>React 性能优化</title>
    <link href="https://blog.yanxlg.cn/963d3ca1/"/>
    <id>https://blog.yanxlg.cn/963d3ca1/</id>
    <published>2019-09-20T05:20:41.000Z</published>
    <updated>2020-05-10T10:13:05.488Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="密码错误，请输入正确的密码." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">本文暂不开放，需要密码才可阅读.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="383fb8f2ea5171219c3bf81b75a9c3ce1209c6e8117fbac3aa9ed296541e2360">efa047241e971872ecd0778527c664b1</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Here&#39;s something encrypted, password is required to continue reading.
    
    </summary>
    
    
      <category term="react" scheme="https://blog.yanxlg.cn/categories/react/"/>
    
    
      <category term="react" scheme="https://blog.yanxlg.cn/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>React</title>
    <link href="https://blog.yanxlg.cn/dee17c46/"/>
    <id>https://blog.yanxlg.cn/dee17c46/</id>
    <published>2019-09-20T05:20:41.000Z</published>
    <updated>2020-05-25T11:12:24.540Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>React 近两年更新也相对较大，从节点树到跟新机制，到数据结构都有了很大的变化，本文主要介绍16.4+以后的React源码分析及原理，之前的相关内容已删除，不做保留。</p><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>&emsp;&emsp;学习React就要学习它的架构设计和原理，众所周知，React是前端<code>MV*</code>框架的主流，其实这种说法每个人有不同的理解，有人说React是MAC，有人说是MVVM，有人说从React将Router和DOM分离出去后React只能算VM，加上其全家桶才能组成MVVM，更有人说React仅仅是一个library，不是MVVM，因为不满足MVVM双向绑定的特性，这些说法其实都有依据，不能说错，但也不能说对，React设计初期是跟前端MVVM框架几乎同时出现，设计者的初衷还是基于MVVM去开发框架的，个人比较偏向与<code>从React将Router和DOM分离出去后React只能算VM，加上其全家桶才能组成MVVM</code>这种说法，但也不完全认同，React单个库中有单独的状态管理，有MVVM实现，因此从全局看React不是一个完整的MVVM框架，但局部不缺MVVM的设计和使用。<br>&emsp;&emsp;React原理在前端框架中也是独树一帜的，Vue都大量借鉴，而新版本中的内容更是<code>花里胡哨</code>，有意思的很，下面主要介绍新版React中数据流、节点结构、任务调度、分片算法、状态更新等，涉及到具体的更详细的内容不在本文中介绍，请到专项文章中了解，例如<code>虚拟Dom Diff算法</code>、<code>Redux</code>等等。</p><h2 id="节点树"><a href="#节点树" class="headerlink" title="节点树"></a>节点树</h2><p>React16-之前的虚拟DOM树或者节点树大部分人都有所了解，本质上是一个大的JSON对象，从根节点开始children存放所有子节点数组这种层层嵌套的结构，如下图所示：</p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="/dee17c46/node_list_old.png" class="img-left" title="旧版节点树"><p>从上图可以看出树结构就是通过每个节点的children组成父子关系的json结构，当发生更新时从触发节点向下通过深度递归的方式进行遍历节点更新；优先完成子节点更新。其遍历都是通过数组索引进行。然而在现在，前端对于性能要求越来越高，这种设计结构已经不满足用户需求了，当树结构嵌套过深时，DOM树更新会阻塞用户行为，例如输入卡顿，动画卡顿等等，主要原因还是因为js是同步的，DOM树的Diff及更新都是在js线程中执行的，当一次更新任务耗时较长时明显会阻塞js其他行为。因此在React16开始，对于DOM树结构做了改变，由原来的JSON树变成了<code>链表树</code>，其结构图如下：  </p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="/dee17c46/node_list_new.png" class="img-left" title="旧版节点树"><p>其结构变成了链表树，父节点只跟第一个子节点有直接关系，其他子节点都是右序节点，更新遍历是通过树的深度优先算法进行遍历</p><blockquote><p>Fiber节点中的<code>return</code>和<code>stateNode</code>属性是个私有属性，默认情况下不希望开发者使用的，因此typing文件中并没有对外开放，但是部分场景下我们可以通过这两个属性实现获取父组件属性的需求，例如<code>嵌套权限控制</code>等，想要了解可以通过控制台输出查看即可，获取当前Fiber节点的办法：</p><ul><li>类组件中：this._reactInternalFiber </li><li>函数式组件中：JSX变量的<code>_owner</code>属性，例如：<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pageJSX = &lt;div&gt;<span class="number">1111</span>&lt;/div&gt;;</span><br><span class="line"><span class="built_in">console</span>.log(pageJSX);</span><br><span class="line"><span class="keyword">return</span> pageJSX;</span><br></pre></td></tr></table></figure></li></ul></blockquote><p>数据结构改变的优点如下：</p><ul><li>采用游标遍历和深度优先算法遍历，可以提升遍历效率同时可以做到<code>中断控制</code>及<code>恢复</code></li><li>节点新增，删除效率提升，不需要从数组中插入删除，数组中插入删除涉及到元素前移后移，链表直接新增节点，断开节点即可</li></ul><h2 id="React是一个单向数据流的库，状态驱动视图。"><a href="#React是一个单向数据流的库，状态驱动视图。" class="headerlink" title="React是一个单向数据流的库，状态驱动视图。"></a>React是一个单向数据流的库，状态驱动视图。</h2><h2 id="任务调度、分片"><a href="#任务调度、分片" class="headerlink" title="任务调度、分片"></a>任务调度、分片</h2><h3 id="Fiber-任务拆分"><a href="#Fiber-任务拆分" class="headerlink" title="Fiber 任务拆分"></a>Fiber 任务拆分</h3><p>React实现可以粗划为两部分：<code>reconciliation</code>（diff阶段）和 <code>commit</code>(操作DOM阶段)。在 v16 之前，<code>reconciliation</code> 简单说就是一个自顶向下递归算法，产出需要对当前DOM进行更新或替换的操作列表，一旦开始，会持续占用主线程，中断操作却不容易实现。当JS长时间执行（如大量计算等），会阻塞样式计算、绘制等工作，出现页面脱帧现象。所以，v16 进行了一次重写，迎来了代号为Fiber的异步渲染架构。</p><blockquote><p>Fiber核心是实现了一个基于优先级和requestIdleCallback的循环任务调度算法。它包含以下特性：(参考：fiber-reconciler)</p><ul><li>reconciliation阶段可以把任务拆分成多个小任务</li><li>reconciliation阶段可随时中止或恢复任务</li><li>可以根据优先级不同来选择优先执行任务</li></ul></blockquote><p>从其特性可看出，Fiber核心是更换了reconciliation阶段的运作。那么：</p><ul><li><p>为什么对reconciliation阶段进行拆分，而不在commit阶段处理：<br>reconciliation阶段包含的主要工作是对current tree 和 new tree 做diff计算，找出变化部分。进行遍历、对比等是可以中断，延迟后继续执行的。<br>commit阶段是对上一阶段获取到的变化部分应用到真实的DOM树中，是一系列的DOM操作。不仅要维护更复杂的DOM状态，而且中断后再继续，会对用户体验造成影响。在普遍的应用场景下，此阶段的耗时比diff计算等耗时相对短。<br>所以，Fiber选择在reconciliation阶段拆分</p></li><li><p>如何拆分：</p><div class="note primary">            <ol><li>用户调用ReactDOM.render传入组件，React创建Element树;</li><li>在第一次渲染时，创建vdom树，用来维护组件状态和dom节点的信息（如List/Button/Item等）。当后续操作如render或setState时需要更新，通过diff算出变化的部分；</li><li>根据变化的部分更新vdom树、调用组件生命周期函数等，同步应用到真实的DOM节点中。</li></ol>          </div><p>在第二阶段，Fiber是把render/update分片，拆解成多个小任务来执行，每次只检查树上部分节点，做完此部分后，若当前一帧（16ms）内还有足够的时间就继续做下一个小任务，时间不够就停止操作，等主线程空闲时再恢复。<br>这种停止/恢复操作，需要记录上下文信息。而当前只记录单一dom节点的vDom tree 是无法完成的，<br>Fiber Tree节点结构大致如下：</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> Fiber = &#123;</span><br><span class="line">    tag: TypeOfWork, <span class="comment">// 类型</span></span><br><span class="line">    <span class="keyword">type</span>: <span class="string">'div'</span>,</span><br><span class="line">    <span class="keyword">return</span>: Fiber|<span class="literal">null</span>, <span class="comment">// 父节点</span></span><br><span class="line">    child: Fiber|<span class="literal">null</span>, <span class="comment">// 子节点</span></span><br><span class="line">    sibling: Fiber|<span class="literal">null</span>, <span class="comment">// 兄弟节点</span></span><br><span class="line">    alternate: Fiber|<span class="literal">null</span>, <span class="comment">//diff出的变化记录在这个fiber上</span></span><br><span class="line">    .....</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>完整的结构可以参考源码<a href="https://github.com/facebook/react/blob/master/packages/react-reconciler/src/ReactInternalTypes.js#L66" target="_blank" rel="noopener">ReactFiber</a><br>所以，Fiber是根据一个fiber节点（VDOM节点）来拆分，以fiber node为一个任务单元，一个组件实例都是一个任务单元。任务循环中，每处理完一个fiber node，可以中断/挂起/恢复。</p></li></ul><h3 id="Fiber调度算法"><a href="#Fiber调度算法" class="headerlink" title="Fiber调度算法"></a>Fiber调度算法</h3><h4 id="requestIdleCallback"><a href="#requestIdleCallback" class="headerlink" title="requestIdleCallback"></a>requestIdleCallback</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.requestIdleCallback(callback[, options:&#123;timeout?:<span class="built_in">number</span>&#125;]);</span><br><span class="line"><span class="comment">//timeout：如果指定了timeout并具有一个正值，并且尚未通过超时毫秒数调用回调，那么回调会在下一次空闲时期被强制执行，尽管这样很可能会对性能造成负面影响。</span></span><br></pre></td></tr></table></figure><p>浏览器提供的<code>requestIdleCallback</code> API可以让浏览器在空闲时间执行回调（开发者传入的方法），在回调参数中可以获取到当前帧（16ms）剩余的时间。利用这个信息可以合理的安排当前帧需要做的事情，如果时间足够，那继续做下一个任务，如果时间不够就歇一歇，挂起现有任务，再次调用requestIdleCallback来探知主线程不忙的时候，再继续恢复任务。<br>React 为了兼容大部分浏览器，自己实现了<code>requestIdleCallback</code> API,利用<code>Message</code>事件与<code>requestAnimationFrame</code>实现，具体可以查看源码<a href="https://github.com/facebook/react/blob/master/packages/scheduler/src/Scheduler.js" target="_blank" rel="noopener">Scheduler</a></p><h4 id="优先级任务调度"><a href="#优先级任务调度" class="headerlink" title="优先级任务调度"></a>优先级任务调度</h4><p>不同的任务分配不同的优先级，Fiber根据任务的优先级来动态调整任务调度，会优先执行高优先级的任务</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> ImmediatePriority = <span class="number">1</span>;<span class="comment">// 最紧急的任务</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> UserBlockingPriority = <span class="number">2</span>;<span class="comment">// 用户交互反馈</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> NormalPriority = <span class="number">3</span>;<span class="comment">// 默认任务</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> LowPriority = <span class="number">4</span>;<span class="comment">// 低优先级任务，数据的更新</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> IdlePriority = <span class="number">5</span>;<span class="comment">// 预估未来需要显示的任务，浏览器空闲时处理的任务</span></span><br></pre></td></tr></table></figure><p>对应过期时间</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> maxSigned31BitInt = <span class="number">1073741823</span>;</span><br><span class="line"><span class="comment">//过期时间</span></span><br><span class="line"><span class="keyword">var</span> IMMEDIATE_PRIORITY_TIMEOUT = <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">var</span> USER_BLOCKING_PRIORITY = <span class="number">250</span>;</span><br><span class="line"><span class="keyword">var</span> NORMAL_PRIORITY_TIMEOUT = <span class="number">5000</span>;</span><br><span class="line"><span class="keyword">var</span> LOW_PRIORITY_TIMEOUT = <span class="number">10000</span>;</span><br><span class="line"><span class="keyword">var</span> IDLE_PRIORITY = maxSigned31BitInt;</span><br></pre></td></tr></table></figure><p>最终优先级是根据<code>update</code>的<code>expirationTime</code>属性来管理先后的，计算expirationTime返回值是各个公式<code>MAGIC_NUMBER_OFFSET - ((ms / UNIT_SIZE) | 0)</code>，其中<code>MAGIC_NUMBER_OFFSET</code>是个常量值为<code>1073741821</code>,ms是window.performance.now()（这个时间一般是从地址栏输入地址回车后到执行这个方法中间间隔的毫秒数），也就是ms越小，优先级应该越高，当ms越小时，expirationTime就越大，自然expirationTime越大，优先级越高；此<code>expirationTime</code>属性与Task的<code>expirationTime</code>属性不同，Task的<code>expirationTime</code>属性表示超时时间，等同于<code>requestIdleCallback</code>的tmeout，越小优先级越高。早期这两个之间是等同的，都是越小越高，后来有所改动，后续规则可能会继续发生变化。<br>关于优先级划分，React一直以来没有固定的标准，其计算规则当前任务队列中的任务数有关，目前并没有详细文档可以了解，等待后续研究补充。</p><h4 id="任务执行流程"><a href="#任务执行流程" class="headerlink" title="任务执行流程"></a>任务执行流程</h4><p>创建任务的唯一接口为 <code>unstable_scheduleCallback(priorityLevel, callback, options)</code> 函数。任务分为两种，同步任务或异步延时任务。同步任务在 <code>unstable_scheduleCallback</code> 调用期间就会添加到 <code>taskQueue</code> 队列，且通过 <code>requestHostCallback</code> 函数立即执行；异步延时任务会添加到 <code>timerQueue</code> 队列，且通过 <code>requestHostTimeout</code> 函数延后执行。<code>unstable_scheduleCallback</code> 的执行流程图如下：</p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="/dee17c46/task.png" class="img-left" title="任务执行流程"><p>在上图中，以 <code>workLoop</code> 方式循环调度 <code>taskQueue</code> 队列或以 <code>handleTimeout</code> 递归调度 <code>timerQueue</code> 队列这两种方式，只有一个在激活状态，也即 <code>requestHostCallback</code>、<code>requestHostTimeout</code> 只有一个在调用周期中。因为，<code>taskQueue</code> 队列调度完毕，会调用 <code>requestHostTimeout</code> 处理 <code>timerQueue</code> 队列；<code>timerQueue</code> 队列有一个任务进入 <code>taskQueue</code>，又会调用 <code>requestHostCallback</code> 处理 <code>taskQueue</code> 队列。</p><p>另外，<code>workLoop</code> 循环也使任务具有可并发执行的特性。任务若返回函数，这个函数将作为 <code>currentTask.callback</code> 执行内容，即在 <code>workLoop</code> 循环中保证任务的回调被立即执行。</p><h4 id="任务的暂停、中止等"><a href="#任务的暂停、中止等" class="headerlink" title="任务的暂停、中止等"></a>任务的暂停、中止等</h4><p>我们再来看看 <code>requestHostCallback</code>、<code>requestHostTimeout</code>。在浏览器环境中，react 通过 <code>MessageChannel</code> 发送消息的方式触发任务的真正执行，详情可参看 <code>requestHostCallback</code> 函数 的实现，效果是在渲染后执行任务。至于 <code>requestHostTimeout</code>，react 则使用 setTimeout 方法实现。</p><h4 id="任务的暂停与恢复"><a href="#任务的暂停与恢复" class="headerlink" title="任务的暂停与恢复"></a>任务的暂停与恢复</h4><p>需要指出的是，在单次 <code>workLoop</code> 循环中，如果 <code>taskQueue</code> 队列未被清空（比如任务被暂停了），react 会基于 <code>MessageChannel</code> 再次 发送消息，以处理 taskQueue 队列。为此，scheduler 对外提供 <code>unstable_pauseExecution、unstable_continueExecution</code> 接口用于暂停、恢复任务，这就是任务暂停与恢复。</p><h4 id="任务的中止"><a href="#任务的中止" class="headerlink" title="任务的中止"></a>任务的中止</h4><p>至于任务的中止，scheduler 提供 <code>unstable_getFirstCallbackNode</code> 函数 用于获取 <code>taskQueue</code> 的首个任务，然后就可以使用 <code>unstable_cancelCallback</code> 接口销毁任务了。</p><h4 id="任务循环的过程如下"><a href="#任务循环的过程如下" class="headerlink" title="任务循环的过程如下"></a>任务循环的过程如下</h4><ol><li>找到高优先级的待处理的节点</li><li>检查当前节点是否需要更新，不需要的话，直接clone子节点，直接到5</li><li>打个tag标记，更新自己（组件更新props，context等，DOM节点记下DOM change）</li><li>通过render获取子节点，生成子节点的workInProgress节点</li><li>若没有产生子节点，归并diff出的不同部分effect list（包含DOM change）到父节点</li><li>把子节点或兄弟节点作为待处理任务，准备进入下一个任务循环。若已经回到了workInProgress tree的根节点，则任务循环结束</li></ol><h4 id="任务循环过程"><a href="#任务循环过程" class="headerlink" title="任务循环过程"></a>任务循环过程</h4><p>在调用render或setState后，会克隆出一个镜像fiber，存储在当前节点<code>alternate</code>属性中，diff产生出的变化会标记在镜像fiber上。而alternate就是链接当前fiber tree和镜像fiber tree, 用于断点恢复。当前fiber节点的alternate属性指向workInProgress节点，对应workInProgress节点的alternate属性指向当前fiber节点。<br>通过下面一段代码我们看看如何实现任务循环：</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Count</span>(<span class="params">&#123;count&#125;:&#123;count:<span class="built_in">number</span>&#125;</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Sibling</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"sibling"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> [count,setCount] = useState(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">const</span> onClick = useCallback(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        setCount(<span class="function">(<span class="params">count</span>)=&gt;</span>count+<span class="number">1</span>);</span><br><span class="line">    &#125;,[]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div style=&#123;&#123;width:<span class="number">200</span>,height:<span class="number">200</span>,backgroundColor:<span class="string">'red'</span>&#125;&#125; onClick=&#123;onClick&#125;&gt;</span><br><span class="line">            &lt;Count count=count/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> App=<span class="function"><span class="params">()</span>=&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">"App"</span>&gt;</span><br><span class="line">      &lt;Test/&gt;</span><br><span class="line">      &lt;div&gt;&lt;Sibling/&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;React.StrictMode&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/React.StrictMode&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>以它为例创建fiber tree：</p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="/dee17c46/tree.png" class="img-left" title="FiberTree"><p>再次setState或render时，构建workInProgress tree:</p><img src= data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs= data-src="/dee17c46/clone.png" class="img-left" title="Clone FiberTree"><div class="note info">            <ol><li>从Root节点向下遍历，查找相关节点Test</li><li>先把根节点 Test克隆出来，并用child属性指向它在fiber tree中的子节点div.style</li><li>把div.style从fiber tree中克隆出来，需要更新的话，加一个tag标志</li><li>更新div.style节点的状态，属性的指向等，并通过render获取到它的新子节点</li><li>尽量复用旧子节点Count来创建新子节点的workInProgress结构</li><li>把新节点Count做为下一个任务，调用requestIdleCallback获取当前帧所剩余的时间，如果还足够，就继续Count的任务，重复2-4，否则，就等主线程空闲后再开始循环</li><li>当子节点Count中没有child属性的指向，表示已到达底部。会把diff时产生的effect list会merge回return属性指向的父节点div.style上</li><li>当父节点div.style没有兄弟节点时，会一直向上return回根节点，并把每个节点上产生的effect-list合并到根节点上。任务循环结束</li></ol>          </div><h2 id="状态跟新"><a href="#状态跟新" class="headerlink" title="状态跟新"></a>状态跟新</h2><p>React状态更新并没有vue那种跟踪机制，vue中是通过发布订阅模式去控制相关节点渲染的，核心使用的是<code>Proxy</code>或者<code>Getter Setter</code>，从而实现状态更新监听，并通过listener回调更新每个节点，相对来说，静态化内存，vue比React高，因为一个应用vue中会创建大量的订阅者，这也是大家说<code>React适合大项目，Vue适合中小项目</code>的原因之一。React中状态更新都是从跟节点root出发，进行链表遍历（遍历结果会缓存，并不是每次都需要从头遍历），生成需要更新的<code>alternate</code>(等同于<code>workInProgress</code> tree)子树，创建更新任务，并按照异步任务执行过程执行更新。</p><ol><li>setState怎么实现合并的？<br>setState在<code>合成事件</code>和<code>钩子函数</code>中同步调用是会进行合并的，因为commit是在<code>合成事件</code>和<code>钩子函数</code>的调用顺序之后，因此才形成了合并更新，在旧版本中是通过变量<code>isBatchingUpdates</code>控制是否当前正在更新，后续更新操作是否放在消费队列中执行实现的，如果已经在执行更新则放在异步事务中，否则添加到当前消费队列，等待commit。默认是false，表示会立即更新，但是在<code>合成事件</code>和<code>钩子函数</code>的前置钩子中会调用<code>batchedUpdates</code>，该函数会把 <code>isBatchingUpdates</code> 修改为 true ,这样由 React 控制的事件处理过程 setState 不会同步更新 this.state。最新代码中已经删除了<code>isBatchingUpdates</code>，在Fiber任务队列中做了处理，一次commit之后会把前面的update Task合并执行，因为都是即时任务，超时都是-1，会被立即执行。</li><li>同步异步<br>setState 只在<code>合成事件</code>和<code>钩子函数</code>中是“异步”的，在<code>原生事件</code>和<code>setTimeout</code>等中都是同步的。异步同步并不是说setState就是异步方法，其本身执行的过程和代码都是同步的，只是在React封装的事件机制<code>合成事件</code>和<code>钩子函数</code>中，commit操作是函数执行完成后执行的，而在其他场景，调用setState之后就会执行commit，因此出现了异步同步的现象，当然，同步并不是表示在调用setState之后可以立即获取到最新的state，最新的state在更新时才能获取，而更新是异步的，因此setState之后不管什么场景都无法直接获取到最新的state。<code>可以通过第二个参数callback来获取到更新后的结果setState(partialState, callback)</code>，callback会在组件更新之后执行，等同于<code>componentDidUpdate</code></li></ol><h2 id="Context源码（临时记录）"><a href="#Context源码（临时记录）" class="headerlink" title="Context源码（临时记录）"></a>Context源码（临时记录）</h2><p>从跟节点通过alternate遍历出依赖的子节点树，进行更新，感觉每次都是从父节点遍历，遍历后进行记忆，与Vue使用数据拦截不同</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>以上分析仅个人针对源码理解，如有错误，欢迎提出交流，无法保证与最新版本完全符合，目前React在快速迭代中。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;React 近两年更新也相对较大，从节点树到跟新机制，到数据结构都有了很大的变化，本文主要介绍16.4+以后的React源码分析及原理，之前
      
    
    </summary>
    
    
      <category term="react" scheme="https://blog.yanxlg.cn/categories/react/"/>
    
    
      <category term="react" scheme="https://blog.yanxlg.cn/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>React 服务端渲染</title>
    <link href="https://blog.yanxlg.cn/1b5b7ecc/"/>
    <id>https://blog.yanxlg.cn/1b5b7ecc/</id>
    <published>2019-09-20T05:20:41.000Z</published>
    <updated>2020-05-10T13:00:12.963Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="密码错误，请输入正确的密码." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">本文暂不开放，需要密码才可阅读.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="57c4f9a7d4e3f11ce550b0f899689c3cd37b4f09777bfccc63201415fa7bf73f">9862ab3682ec9eb250517d78be2f804b</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Here&#39;s something encrypted, password is required to continue reading.
    
    </summary>
    
    
      <category term="react" scheme="https://blog.yanxlg.cn/categories/react/"/>
    
    
      <category term="react" scheme="https://blog.yanxlg.cn/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>Application Cache优化</title>
    <link href="https://blog.yanxlg.cn/59f37da9/"/>
    <id>https://blog.yanxlg.cn/59f37da9/</id>
    <published>2019-09-17T01:30:19.000Z</published>
    <updated>2020-02-27T01:44:45.741Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
      <category term="h5" scheme="https://blog.yanxlg.cn/categories/h5/"/>
    
    
  </entry>
  
  <entry>
    <title>ReactNative环境搭建</title>
    <link href="https://blog.yanxlg.cn/5bef46cc/"/>
    <id>https://blog.yanxlg.cn/5bef46cc/</id>
    <published>2019-09-17T01:23:16.000Z</published>
    <updated>2020-05-10T10:00:55.481Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="密码错误，请输入正确的密码." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">本文暂不开放，需要密码才可阅读.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="a58d949e4ca41a54c8af7ee35c7ecea72f387913f3056dcd477dde1e3bea2061">0a39056f74d8080d568723ff77b0571b988dffbaf02b0cd7fde3669f2b2be36c0d4f05a8f4d971f508dcde056cdc67b1b2192fc7b525534349b5bf012c53c84542e244a023cf3474b41890842f0da12565df08c19b9761fcaa76a798c7420648a262a6e6d3c10fd2580b2790be7eb3556052f1b31625abe4848d1f7bf262eb0ae585f5efaf055d2bde0e1c7c79474bb0b1794bf5a4b72fbd655d147490c3da7f7d5130c5f381f2c6352125c3e902570c94027c635f63bad853865983a27f92f2ed0067938f61e0f396a080a51d1a5a6cc42a1bfecb96c2fbb76de6c758a835a3abad82bedbd3eb9901853a93f8ac861f33ad3ea33e3ada96a16d62cb3275ae10a862cabbd846b425abd9c79d1cdb8240e22bb98956d6b3119d786d7c7342e0eb86d84e9fd6d7304528ddb9847f786a8657d5adf3738e444b7d7260109785d156</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Here&#39;s something encrypted, password is required to continue reading.
    
    </summary>
    
    
      <category term="ReactNative" scheme="https://blog.yanxlg.cn/categories/ReactNative/"/>
    
    
  </entry>
  
</feed>
